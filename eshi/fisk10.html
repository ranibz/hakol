<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>דף עבודה מסכם: מודל פיסק</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&family=Rubik:wght@500;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-purple: #f3e5f5;
            --bg-yellow: #fff9c4;
            --bg-cyan: #e0f7fa;
            --bg-green: #e8f5e9;
            --bg-red: #ffebee;
            --border-color: #000000;
            --shadow-color: #000000;
        }

        body {
            font-family: 'Heebo', sans-serif;
            background-color: #fdfdfd;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* עיצוב רטרו כללי */
        .retro-box {
            background: white;
            border: 2px solid var(--border-color);
            box-shadow: 4px 4px 0px var(--shadow-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            transition: transform 0.2s ease;
        }

        h1, h2, h3 {
            font-family: 'Rubik', sans-serif;
            margin-top: 0;
        }

        /* כותרת ראשית ופרטים */
        header {
            background-color: var(--bg-purple);
            text-align: center;
            padding: 30px;
        }

        .header-btn {
            display: inline-block;
            background: #fff;
            border: 2px solid #000;
            padding: 8px 16px;
            text-decoration: none;
            color: #000;
            font-weight: bold;
            box-shadow: 3px 3px 0 #000;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        
        .header-btn:hover {
            transform: translate(-1px, -1px);
            box-shadow: 4px 4px 0 #000;
        }

        .student-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        input[type="text"], input[type="email"] {
            width: 100%;
            padding: 12px;
            font-family: 'Heebo', sans-serif;
            border: 2px solid #000;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
            outline: none;
        }

        input:focus, textarea:focus {
            background-color: #f0f0f0;
        }

        /* חלק א' - מושגים */
        #part-a {
            background-color: var(--bg-yellow);
        }

        .concepts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .concepts-grid {
                grid-template-columns: 1fr;
            }
            .student-info {
                grid-template-columns: 1fr;
            }
        }

        .concept-card {
            padding: 20px;
            border: 2px solid #000;
            border-radius: 10px;
            box-shadow: 3px 3px 0 #000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* צבעי כרטיסיות שונים */
        .card-1 { background-color: #ffcdd2; } /* ורוד */
        .card-2 { background-color: #b3e5fc; } /* תכלת */
        .card-3 { background-color: #b2dfdb; } /* מנטה */
        .card-4 { background-color: #ffe0b2; } /* כתום */

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        textarea {
            width: 100%;
            min-height: 60px;
            border: 2px solid #000;
            border-radius: 6px;
            padding: 8px;
            font-family: 'Heebo', sans-serif;
            font-size: 0.95rem;
            resize: none; /* מבוקר ע"י JS */
            box-sizing: border-box;
            background: rgba(255, 255, 255, 0.7);
        }

        .glossary-link-container {
            text-align: center;
            margin-top: 20px;
        }

        .glossary-link {
            background: #000;
            color: #fff;
            padding: 12px 24px;
            text-decoration: none;
            font-weight: bold;
            border-radius: 30px;
            font-size: 1.1rem;
            transition: transform 0.2s;
            display: inline-block;
        }

        .glossary-link:hover {
            transform: scale(1.05);
        }

        /* חלק ב' - דילמה */
        #part-b {
            background-color: var(--bg-cyan);
        }

        /* אקורדיון */
        .accordion {
            background-color: #fff;
            color: #444;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: 2px solid #000;
            text-align: right;
            outline: none;
            font-size: 1.1rem;
            font-weight: bold;
            transition: 0.4s;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion:after {
            content: '\002B';
            color: #777;
            font-weight: bold;
            float: left;
            margin-left: 5px;
            font-size: 1.5rem;
        }

        .active:after {
            content: "\2212";
        }

        .panel {
            padding: 0 18px;
            background-color: white;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            border-left: 2px solid #000;
            border-right: 2px solid #000;
            border-bottom: 2px solid #000; /* סוגר את המסגרת כשהוא פתוח */
            margin-top: -10px;
            margin-bottom: 15px;
            border-radius: 0 0 8px 8px;
        }

        .panel p {
            line-height: 1.6;
            margin: 15px 0;
        }

        /* טבלת דילמה */
        .dilemma-table {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .dilemma-col {
            background: #fff;
            border: 2px solid #000;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 2px 2px 0 #000;
        }

        .dilemma-col h3 {
            text-align: center;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        .field-group {
            margin-bottom: 15px;
        }

        .bg-green { background-color: var(--bg-green) !important; }
        .bg-red { background-color: var(--bg-red) !important; }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 40px;
            padding-bottom: 40px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .btn {
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            border: 3px solid #000;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 4px 4px 0 #000;
            transition: all 0.2s;
            font-family: 'Rubik', sans-serif;
        }

        .btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 #000;
        }

        .btn:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 #000;
        }

        .btn-save {
            background-color: #fff;
            color: #000;
        }

        .btn-submit {
            background-color: #000;
            color: #fff;
        }

        .disabled-mode input, .disabled-mode textarea {
            background-color: #e0e0e0 !important;
            color: #555;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <div class="container">
        <header class="retro-box">
            <a href="https://hakolbakaf.co.il/morim/rani/pisk/index.html" target="_blank" class="header-btn">חזרה לחומר הלימוד &#8617;</a>
            <h1>דף עבודה מסכם: מודל פיסק (הגישה הסמיוטית)</h1>
            <div class="student-info">
                <div>
                    <label>שם התלמיד/ה:</label>
                    <input type="text" id="studentName" placeholder="הקלד/י את שמך המלא">
                </div>
                <div>
                    <label>אימייל:</label>
                    <input type="email" id="studentEmail" placeholder="האימייל שלך">
                </div>
            </div>
        </header>

        <div id="part-a" class="retro-box">
            <h2>חלק א': מושגי יסוד</h2>
            <p>לפניך 4 מושגים מתוך השיעור. לכל מושג, הסבר/י את משמעותו בקצרה ותנ/י דוגמה ליישום.</p>
            
            <div class="concepts-grid">
                <div class="concept-card card-1">
                    <h3>1. מודל פיסק</h3>
                    <p style="font-size:0.9rem; color:#555;">מודל סמיוטי: תקשורת כהחלפת משמעויות, נמען פעיל.</p>
                    <label>הסבר במילים שלך:</label>
                    <textarea class="auto-expand" placeholder="הסבר/י..."></textarea>
                    <label>כיצד זה בא לידי ביטוי בדוגמה שנלמדה?</label>
                    <textarea class="auto-expand" placeholder="יישום..."></textarea>
                </div>

                <div class="concept-card card-2">
                    <h3>2. פוליסמיות</h3>
                    <p style="font-size:0.9rem; color:#555;">ריבוי משמעויות בטקסט, פרשנות פתוחה.</p>
                    <label>הסבר במילים שלך:</label>
                    <textarea class="auto-expand" placeholder="הסבר/י..."></textarea>
                    <label>תן דוגמה לטקסט שניתן לפרש בכמה דרכים:</label>
                    <textarea class="auto-expand" placeholder="יישום..."></textarea>
                </div>

                <div class="concept-card card-3">
                    <h3>3. תהליך התקשורת</h3>
                    <p style="font-size:0.9rem; color:#555;">מוען, מסר, נמען, ערוץ, רעש, משוב.</p>
                    <label>כיצד המודל הסמיוטי רואה את התהליך?</label>
                    <textarea class="auto-expand" placeholder="הסבר/י את ההבדל ממודל קווי..."></textarea>
                    <label>מהו תפקיד הנמען בתהליך זה?</label>
                    <textarea class="auto-expand" placeholder="יישום..."></textarea>
                </div>

                <div class="concept-card card-4">
                    <h3>4. ייצוג והדרה</h3>
                    <p style="font-size:0.9rem; color:#555;">אופן הצגת קבוצות או העלמתן (הכחדה סימבולית).</p>
                    <label>מה הקשר בין תרבות הצופה לבין תחושת הדרה?</label>
                    <textarea class="auto-expand" placeholder="הסבר/י..."></textarea>
                    <label>דוגמה מהמערכון "היהודים באים" או אחר:</label>
                    <textarea class="auto-expand" placeholder="יישום..."></textarea>
                </div>
            </div>

            <div class="glossary-link-container">
                <a href="https://hakolbakaf.co.il/agron/index.html" target="_blank" class="glossary-link">לאגרון המושגים המלא &#187;</a>
            </div>
        </div>

        <div id="part-b" class="retro-box">
            <h2>חלק ב': דילמה מקצועית</h2>
            
            <button class="accordion">מה ההבדל בין דילמה מקצועית לדילמה אישית?</button>
            <div class="panel">
                <p>
                    דילמה תקשורתית-מקצועית היא דילמה שעומדת בפני אנשי התקשורת. אינך פועל עדיין בשדה התקשורתי ועליך לדמות את השיקולים שעומדים בפני אנשי התקשורת (האם לשדר תכנים מסוג מסוים או לא? מה היתרונות והמחירים בכל אפשרות?).<br>
                    דילמה אישית היא דילמה שניצבת בפניך, בחיי היום יום שלך: האם להעביר ברשת תכנים מסוג א' או לא? מה המחירים והיתרונות בכל אפשרות? כיצד להציג את עצמך ברשת: מה היתרונות ומה המחירים בכל אפשרות וכן הלאה.<br>
                    במילים אחרות, עלינו להדגיש את שיקולי הרווח והמחיר שאתה עתיד לשלם בעצמך.<br>
                    לשם כך אנו מעבירים את הדגש לעולם התוכן שלך, ומציבים אותך כאיש תקשורת שמייצר ומעביר תכנים (ולא רק צרכן פסיבי). במקום ייצוג בקולנוע, נשאל על ייצוג ברשת החברתית, בעמוד האינסטגרם שלך; במקום עידוד תופעות על ידי עיצוב על ידי אנשי תקשורת, עידוד תופעות על ידי צריכה והפצת תכנים ברשתות החברתיות וכן הלאה.
                </p>
            </div>

            <div style="margin-top: 20px;">
                <label style="font-size: 1.1rem;">תיאור הדילמה:</label>
                <textarea class="auto-expand" style="min-height: 80px;" placeholder="תארו כאן את הדילמה וההתנגשות בין הערכים..."></textarea>
            </div>

            <div class="dilemma-table">
                <div class="dilemma-col">
                    <h3>אפשרות א'</h3>
                    <div class="field-group">
                        <label>מהי הפעולה?</label>
                        <textarea class="auto-expand"></textarea>
                    </div>
                    <div class="field-group">
                        <label>רווח/יתרונות:</label>
                        <textarea class="auto-expand bg-green" placeholder="מה נרוויח מפעולה זו?"></textarea>
                    </div>
                    <div class="field-group">
                        <label>מחיר/חסרונות:</label>
                        <textarea class="auto-expand bg-red" placeholder="על מה נאלץ לוותר?"></textarea>
                    </div>
                </div>

                <div class="dilemma-col">
                    <h3>אפשרות ב'</h3>
                    <div class="field-group">
                        <label>מהי הפעולה?</label>
                        <textarea class="auto-expand"></textarea>
                    </div>
                    <div class="field-group">
                        <label>רווח/יתרונות:</label>
                        <textarea class="auto-expand bg-green" placeholder="מה נרוויח מפעולה זו?"></textarea>
                    </div>
                    <div class="field-group">
                        <label>מחיר/חסרונות:</label>
                        <textarea class="auto-expand bg-red" placeholder="על מה נאלץ לוותר?"></textarea>
                    </div>
                </div>
            </div>

            <div style="margin-top: 30px;">
                <h2>הכרעה מנומקת</h2>
                <textarea class="auto-expand" style="min-height: 100px;" placeholder="נמקו את בחירתכם..."></textarea>
            </div>
        </div>

        <footer>
            <button class="btn btn-save" onclick="saveWork()">&#128190; שמירה להמשך עבודה</button>
            <button class="btn btn-submit" onclick="submitWork()">&#128228; סיום והגשה למורה</button>
        </footer>

    </div>

    <script>
        // מניעת הדבקה
        document.querySelectorAll('input, textarea').forEach(field => {
            field.onpaste = function(e) {
                e.preventDefault();
                alert('שימו לב: פעולת ההדבקה חסומה. אנא כתבו את התשובה במילים שלכם.');
                return false;
            }
        });

        // הגדלה אוטומטית של תיבות טקסט
        document.addEventListener('input', function (event) {
            if (event.target.tagName.toLowerCase() !== 'textarea') return;
            autoResize(event.target);
        });

        function autoResize(el) {
            el.style.height = 'auto';
            el.style.height = el.scrollHeight + 'px';
        }

        // לוגיקת אקורדיון
        var acc = document.getElementsByClassName("accordion");
        for (var i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.maxHeight) {
                    panel.style.maxHeight = null;
                } else {
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }
            });
        }

        // הטמעת ערכים לתוך ה-HTML (Baking)
        function bakeValues() {
            const inputs = document.querySelectorAll('input, textarea');
            inputs.forEach(input => {
                if (input.tagName === 'TEXTAREA') {
                    input.innerHTML = input.value;
                } else {
                    input.setAttribute('value', input.value);
                }
            });
        }

        // פונקציית שמירה (להמשך עבודה)
        function saveWork() {
            bakeValues();
            const studentName = document.getElementById('studentName').value || 'תלמיד';
            const fileName = `מודל פיסק_${studentName}_טיוטה.html`;
            downloadFile(fileName);
            alert('הקובץ נשמר במחשבך. תוכל/י לפתוח אותו מאוחר יותר ולהמשיך לעבוד.');
        }

        // פונקציית הגשה
        function submitWork() {
            const name = document.getElementById('studentName').value.trim();
            if (!name) {
                alert('אנא מלא/י את שמך בראש הדף לפני ההגשה.');
                document.getElementById('studentName').focus();
                return;
            }

            // נעילת שדות
            document.body.classList.add('disabled-mode');
            const inputs = document.querySelectorAll('input, textarea');
            inputs.forEach(input => input.disabled = true);

            bakeValues();
            
            const fileName = `מודל פיסק_${name}.html`;
            downloadFile(fileName);

            alert('הקובץ ירד למחשבך. כעת ייפתח חלון חדש לתיקיית ההגשה - גרור/י את הקובץ לשם.');
            
            // פתיחת הדרייב בחלון חדש
            window.open('https://drive.google.com/drive/folders/1R-o8iOgQ2J9AsNbLR40eU0v-vEqUNh5E', '_blank');
        }

        function downloadFile(filename) {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], {type: 'text/html'});
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = filename;
            link.click();
            URL.revokeObjectURL(link.href);
        }
    </script>
</body>
</html>
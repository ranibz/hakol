<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×¢×‘×•×“×ª ×’××¨ ××¡×œ×•×œ ×œ×"×“ - ×œ××™×“×” ××‘×•×¡×¡×ª ×“×™×œ××•×ª</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
      import { getDatabase, ref, set, get, remove, onValue } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyCSmwys1pNEEMu8oq4r_Q6sMtHEiba33pw",
        authDomain: "gmarlamed.firebaseapp.com",
        databaseURL: "https://gmarlamed-default-rtdb.firebaseio.com",
        projectId: "gmarlamed",
        storageBucket: "gmarlamed.firebasestorage.app",
        messagingSenderId: "287104553740",
        appId: "1:287104553740:web:ab36b987cf86f913c76f29"
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      window._db = db;
      window._fbRef = ref;
      window._fbSet = set;
      window._fbGet = get;
      window._fbRemove = remove;
      window._fbOnValue = onValue;
      window._firebaseReady = true;
      document.dispatchEvent(new Event('firebaseReady'));
    </script>

    <style>
        :root {
            --primary: #4a69bd;
            --text-dark: #2d3436;
            --glass-bg: rgba(255, 255, 255, 0.96);
            --final-primary: #8e44ad;
            --final-light: #f3e5f5;
        }
        * {
            box-sizing: border-box;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }
        body {
            font-family: 'Rubik', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #a29bfe, #74b9ff);
            min-height: 100vh;
            padding-bottom: 100px;
            color: var(--text-dark);
        }
        
        .nav-container {
            position: sticky;
            top: 10px;
            z-index: 1000;
            display: flex;
            justify-content: center;
            padding: 0 10px;
        }
        .nav-bar {
            background: var(--glass-bg);
            padding: 8px;
            border-radius: 50px;
            display: flex;
            gap: 5px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            overflow-x: auto;
            max-width: 100%;
            border: 1px solid rgba(255,255,255,0.5);
        }
        .nav-btn {
            background: none;
            border: none;
            padding: 10px 15px;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-family: inherit;
            color: #555;
            white-space: nowrap;
        }
        .nav-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .glass-container {
            width: 95%;
            max-width: 900px;
            margin: 20px auto;
            background: var(--glass-bg);
            border-radius: 20px;
            padding: 5px 20px 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        h1 {
            text-align: center;
            margin: 0 0 30px;
            font-size: 2.2rem;
            color: var(--text-dark);
        }
        p.subtitle {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 30px;
            color: #666;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            font-weight: 700;
            margin-bottom: 5px;
            font-size: 0.95rem;
            color: #444;
        }
        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 10px;
            background: #fafafa;
            font-family: inherit;
            font-size: 1rem;
        }
        input:focus, textarea:focus, select:focus {
            border-color: var(--primary);
            background: white;
            transform: scale(1.01);
            transition: all 0.3s ease;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
            line-height: 1.6;
        }
        
        /* ×¢×‘×•×“×ª ×’××¨ */
        .final-menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .final-menu-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            transition: 0.3s;
            border: 2px solid transparent;
        }
        .final-menu-card:hover {
            transform: translateY(-5px);
            border-color: var(--final-primary);
            box-shadow: 0 15px 35px rgba(142, 68, 173, 0.2);
        }
        .final-menu-icon {
            font-size: 45px;
            margin-bottom: 10px;
        }
        .final-menu-title {
            font-weight: 800;
            font-size: 1.1rem;
            color: #444;
        }
        .final-menu-desc {
            font-size: 0.85rem;
            color: #777;
            margin-top: 5px;
        }
        .wizard-container {
            display: none;
            margin-top: 20px;
        }
        .project-steps-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            overflow-x: auto;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        .step-btn {
            background: white;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            color: #777;
            min-width: 90px;
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .step-btn.active-step {
            background: var(--final-light);
            border-color: var(--final-primary);
            color: var(--final-primary);
            box-shadow: 0 5px 15px rgba(142, 68, 173, 0.15);
        }
        .project-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        .project-section.active {
            display: block;
        }
        .final-box {
            background: white;
            border-right: 5px solid var(--final-primary);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.03);
        }
        .final-title {
            font-size: 1.4rem;
            font-weight: 900;
            color: var(--final-primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .tip-box {
            background: #fffbe6;
            border: 1px solid #ffe58f;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: #b7791f;
            display: flex;
            gap: 10px;
        }
        .nav-internal {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn-back-lobby {
            background: transparent;
            border: 2px solid #ccc;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            color: #555;
        }
        .btn-next-step {
            background: var(--final-primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            float: left;
        }
        .btn-prev {
            background: #eee;
            color: #555;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            float: right;
        }
        
        /* ×©×¢×¨ */
        .home-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        .home-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            transition: 0.3s;
            border: 2px solid transparent;
        }
        .home-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }
        .home-icon {
            font-size: 50px;
            padding: 15px;
            border-radius: 50%;
            margin-bottom: 10px;
            display: inline-block;
        }
        
        #selection-wrapper {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 20px;
            border: 3px dashed var(--primary);
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        #display-fixed-name {
            display: none;
            font-size: 2.2rem;
            font-weight: 900;
            color: var(--primary);
            margin: 15px 0;
        }
        .drive-link-btn {
            display: none;
            background: #4285F4;
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 15px;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: fit-content;
            margin: 15px auto;
            box-shadow: 0 4px 12px rgba(66, 133, 244, 0.3);
            transition: 0.3s;
        }
        .drive-link-btn:hover {
            transform: scale(1.05);
            background: #357ae8;
        }
        .hidden-after-login {
            display: block;
        }

        /* ×ª××•× ×ª ××¦×‘ */
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            border-right: 6px solid;
            position: relative;
            overflow: hidden;
        }
        .stat-icon {
            font-size: 3rem;
            opacity: 0.1;
            position: absolute;
            left: 20px;
            top: 20px;
        }
        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 5px;
        }
        .stat-label {
            color: #666;
            font-size: 0.95rem;
        }

        .final-step-item {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-right: 5px solid;
            transition: all 0.3s;
        }
        .final-step-item:hover {
            transform: translateX(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .step-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            flex-shrink: 0;
        }
        .step-info {
            flex: 1;
        }
        .step-title {
            font-size: 1.2rem;
            font-weight: 800;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .step-details {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 10px;
        }
        .step-progress-bar {
            background: #f0f0f0;
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }
        .step-progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.6s ease;
        }
        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            display: inline-block;
        }
        .badge-completed {
            background: #d4edda;
            color: #155724;
        }
        .badge-in-progress {
            background: #fff3cd;
            color: #856404;
        }
        .badge-not-started {
            background: #f8d7da;
            color: #721c24;
        }

        /* ===== LOGIN OVERLAY ===== */
        #login-overlay {
            position: fixed; inset: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: 99999;
            display: flex; align-items: center; justify-content: center;
        }
        #login-overlay.hidden { display: none; }
        .login-box {
            background: white; border-radius: 24px;
            padding: 45px 40px; width: 100%; max-width: 420px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.3);
            text-align: center;
        }
        .login-logo { font-size: 3.5rem; margin-bottom: 10px; }
        .login-title { font-size: 1.6rem; font-weight: 900; color: #2d3436; margin-bottom: 5px; }
        .login-subtitle { color: #888; font-size: 0.95rem; margin-bottom: 30px; }
        .role-tabs {
            display: flex; border-radius: 12px; overflow: hidden;
            border: 2px solid #eee; margin-bottom: 25px;
        }
        .role-tab {
            flex: 1; padding: 10px 5px; cursor: pointer; font-weight: 700;
            font-size: 0.9rem; background: white; border: none;
            font-family: inherit; color: #888; transition: 0.2s;
        }
        .role-tab.active { background: #4a69bd; color: white; }
        .login-input {
            width: 100%; padding: 14px 16px; border: 2px solid #eee;
            border-radius: 12px; font-family: inherit; font-size: 1rem;
            margin-bottom: 12px; text-align: right; background: #fafafa;
            transition: border-color 0.2s;
        }
        .login-input:focus { border-color: #4a69bd; background: white; outline: none; }
        .login-btn {
            width: 100%; padding: 15px; background: linear-gradient(135deg, #4a69bd, #764ba2);
            color: white; border: none; border-radius: 12px; font-size: 1.1rem;
            font-weight: 800; cursor: pointer; font-family: inherit;
            box-shadow: 0 8px 20px rgba(74,105,189,0.4); transition: 0.2s;
        }
        .login-btn:hover { transform: translateY(-2px); }
        .login-error {
            background: #fff5f5; border: 1px solid #fed7d7; color: #c53030;
            padding: 10px 15px; border-radius: 10px; font-size: 0.9rem;
            margin-bottom: 12px; display: none;
        }
        .login-error.show { display: block; }

        /* ===== SAVE INDICATOR ===== */
        #save-indicator {
            position: fixed; bottom: 20px; left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #00b894; color: white; padding: 10px 25px;
            border-radius: 30px; font-weight: bold; font-size: 0.95rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 9999;
            transition: transform 0.4s cubic-bezier(0.4,0,0.2,1);
        }
        #save-indicator.visible { transform: translateX(-50%) translateY(0); }
        #save-indicator.error { background: #e74c3c; }

        /* ===== TEACHER DASHBOARD ===== */
        #teacher-dashboard {
            display: none; position: fixed; inset: 0; background: #f0f2f5;
            z-index: 88888; overflow-y: auto; padding: 20px;
            font-family: 'Rubik', sans-serif;
        }
        #teacher-dashboard.visible { display: block; }
        .t-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white; padding: 20px 30px; border-radius: 20px;
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 25px; box-shadow: 0 10px 30px rgba(102,126,234,0.3);
        }
        .t-header h2 { margin: 0; font-size: 1.5rem; }
        .t-logout { background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.4);
            color: white; padding: 8px 20px; border-radius: 20px; cursor: pointer;
            font-family: inherit; font-weight: 700; }
        .student-card {
            background: white; border-radius: 16px; padding: 20px 25px;
            margin-bottom: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            display: flex; align-items: center; gap: 20px; cursor: pointer;
            transition: 0.2s; border: 2px solid transparent;
        }
        .student-card:hover { border-color: #667eea; transform: translateY(-2px); }
        .student-avatar {
            width: 50px; height: 50px; border-radius: 50%;
            background: linear-gradient(135deg, #a29bfe, #74b9ff);
            display: flex; align-items: center; justify-content: center;
            font-size: 1.3rem; font-weight: 900; color: white; flex-shrink: 0;
        }
        .student-info { flex: 1; }
        .student-name { font-weight: 800; font-size: 1.1rem; color: #2d3436; }
        .student-class { color: #888; font-size: 0.9rem; margin-top: 2px; }
        .student-progress { font-size: 1.4rem; font-weight: 900; color: #667eea; }
        .progress-mini { background: #f0f0f0; height: 6px; border-radius: 10px; margin-top: 6px; overflow: hidden; }
        .progress-mini-fill { height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 10px; }

        /* ===== ADMIN DASHBOARD ===== */
        #admin-dashboard {
            display: none; position: fixed; inset: 0; background: #f0f2f5;
            z-index: 88888; overflow-y: auto; padding: 20px;
            font-family: 'Rubik', sans-serif;
        }
        #admin-dashboard.visible { display: block; }
        .a-header {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white; padding: 20px 30px; border-radius: 20px;
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 25px; box-shadow: 0 10px 30px rgba(214,48,49,0.3);
        }
        .a-tabs { display: flex; gap: 10px; margin-bottom: 25px; }
        .a-tab {
            padding: 10px 20px; border-radius: 12px; cursor: pointer;
            font-weight: 700; background: white; border: 2px solid #eee;
            font-family: inherit; color: #555; transition: 0.2s;
        }
        .a-tab.active { background: #d63031; color: white; border-color: #d63031; }
        .a-section { display: none; }
        .a-section.active { display: block; }
        .admin-table {
            width: 100%; border-collapse: collapse; background: white;
            border-radius: 16px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.06);
        }
        .admin-table th {
            background: #2d3436; color: white; padding: 14px 16px;
            font-size: 0.9rem; text-align: right;
        }
        .admin-table td { padding: 12px 16px; border-bottom: 1px solid #f0f0f0; font-size: 0.95rem; }
        .admin-table tr:last-child td { border-bottom: none; }
        .admin-table tr:hover td { background: #f8f9fa; }
        .btn-del {
            background: #fff5f5; color: #e74c3c; border: 1px solid #fecaca;
            padding: 5px 12px; border-radius: 8px; cursor: pointer; font-size: 0.85rem;
            font-family: inherit; font-weight: 700;
        }
        .excel-upload-area {
            border: 3px dashed #667eea; border-radius: 16px; padding: 40px;
            text-align: center; cursor: pointer; background: #f8f9ff;
            transition: 0.2s;
        }
        .excel-upload-area:hover { background: #eef0ff; }
        .action-btn {
            background: linear-gradient(135deg, #667eea, #764ba2); color: white;
            border: none; padding: 12px 25px; border-radius: 12px; cursor: pointer;
            font-family: inherit; font-weight: 700; font-size: 1rem;
            box-shadow: 0 4px 12px rgba(102,126,234,0.3); transition: 0.2s;
        }
        .action-btn:hover { transform: translateY(-2px); }
        .action-btn.red { background: linear-gradient(135deg, #e17055, #d63031); }
        .form-row {
            display: grid; grid-template-columns: 1fr 1fr 1fr auto;
            gap: 12px; margin-bottom: 15px; align-items: end;
        }
        .mini-input {
            padding: 10px 14px; border: 2px solid #eee; border-radius: 10px;
            font-family: inherit; font-size: 0.95rem; width: 100%;
        }
        .mini-input:focus { border-color: #667eea; outline: none; }

        /* ===== STUDENT WORK VIEWER (teacher) ===== */
        #work-viewer {
            display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6);
            z-index: 99000; overflow-y: auto; padding: 20px;
            backdrop-filter: blur(3px);
        }
        #work-viewer.visible { display: block; }
        .work-viewer-inner {
            background: #f5f6fa; border-radius: 20px; max-width: 860px;
            margin: 0 auto; padding: 30px;
        }
        .viewer-sticky-header {
            position: sticky; top: -20px; z-index: 10;
            background: #f5f6fa; padding: 12px 0 16px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 2px solid #e0e0e0; margin-bottom: 22px;
        }
    </style>
</head>
<body>

<!-- ===== LOGIN OVERLAY ===== -->
<div id="login-overlay">
  <div class="login-box">
    <div class="login-logo">ğŸ“</div>
    <div class="login-title">×¢×‘×•×“×ª ×’××¨ ×œ×"×“</div>
    <div class="login-subtitle">×‘×—×¨×• ××ª ×¡×•×’ ×”××©×ª××© ×©×œ×›×</div>

    <div class="role-tabs">
      <button class="role-tab active" onclick="switchLoginRole('student')">ğŸ‘¤ ×ª×œ××™×“</button>
      <button class="role-tab" onclick="switchLoginRole('teacher')">ğŸ‘©â€ğŸ« ××•×¨×”</button>
      <button class="role-tab" onclick="switchLoginRole('admin')">âš™ï¸ ×× ×”×œ</button>
    </div>

    <!-- Student login -->
    <div id="login-student">
      <p style="color:#666;font-size:0.9rem;margin-bottom:15px;">×”×–×Ÿ/×™ ××ª ××¡×¤×¨ ×ª×¢×•×“×ª ×”×–×”×•×ª ×©×œ×š</p>
      <input id="input-student-id" class="login-input" type="text" placeholder="×ª×¢×•×“×ª ×–×”×•×ª" inputmode="numeric">
      <div id="login-error-student" class="login-error">âŒ ×ª×¢×•×“×ª ×–×”×•×ª ×œ× × ××¦××” ×‘××¢×¨×›×ª</div>
      <button class="login-btn" onclick="doLoginStudent()">×›× ×™×¡×” ×œ×¢×‘×•×“×ª ×”×’××¨</button>
    </div>

    <!-- Teacher login -->
    <div id="login-teacher" style="display:none">
      <input id="input-teacher-id" class="login-input" type="text" placeholder="×ª×¢×•×“×ª ×–×”×•×ª">
      <input id="input-teacher-pass" class="login-input" type="password" placeholder="×¡×™×¡××”">
      <div id="login-error-teacher" class="login-error">âŒ ×¤×¨×˜×™× ×©×’×•×™×™×</div>
      <button class="login-btn" onclick="doLoginTeacher()">×›× ×™×¡×” ×›××•×¨×”</button>
    </div>

    <!-- Admin login -->
    <div id="login-admin" style="display:none">
      <input id="input-admin-user" class="login-input" type="text" placeholder='×©× ××©×ª××© (admin)'>
      <input id="input-admin-pass" class="login-input" type="password" placeholder="×¡×™×¡××”">
      <div id="login-error-admin" class="login-error">âŒ ×¤×¨×˜×™× ×©×’×•×™×™×</div>
      <button class="login-btn" style="background:linear-gradient(135deg,#e17055,#d63031)" onclick="doLoginAdmin()">×›× ×™×¡×” ×›×× ×”×œ</button>
    </div>
  </div>
</div>

<!-- ===== SAVE INDICATOR ===== -->
<div id="save-indicator">ğŸ’¾ × ×©××¨</div>

<!-- ===== TEACHER DASHBOARD ===== -->
<div id="teacher-dashboard">
  <div class="t-header">
    <div>
      <h2>ğŸ‘©â€ğŸ« ×¤×× ×œ ××•×¨×”</h2>
      <div style="opacity:0.8;font-size:0.9rem" id="teacher-name-display"></div>
    </div>
    <button class="t-logout" onclick="doLogout()">×™×¦×™××”</button>
  </div>

  <div style="background:white;border-radius:16px;padding:15px 20px;margin-bottom:20px;display:flex;gap:12px;align-items:center;box-shadow:0 4px 15px rgba(0,0,0,0.06)">
    <span style="color:#888;font-size:0.9rem">×¡× ×Ÿ ×œ×¤×™ ×›×™×ª×”:</span>
    <select id="teacher-class-filter" onchange="renderTeacherStudents()" style="padding:8px 14px;border:2px solid #eee;border-radius:10px;font-family:inherit;font-size:0.95rem;">
      <option value="">×›×œ ×”×›×™×ª×•×ª</option>
    </select>
    <span id="teacher-student-count" style="color:#888;font-size:0.9rem;margin-right:auto"></span>
  </div>

  <div id="teacher-students-list"></div>
</div>

<!-- ===== STUDENT WORK VIEWER ===== -->
<div id="work-viewer">
  <div class="work-viewer-inner">
    <div class="viewer-sticky-header">
      <h2 id="viewer-title" style="margin:0;color:#4a69bd;font-size:1.3rem"></h2>
      <button onclick="closeWorkViewer()" style="background:#e74c3c;color:white;border:none;padding:10px 22px;border-radius:20px;cursor:pointer;font-weight:800;font-family:inherit;font-size:1rem">âœ• ×¡×’×•×¨</button>
    </div>
    <div id="viewer-content"></div>
  </div>
</div>

<!-- ===== ADMIN DASHBOARD ===== -->
<div id="admin-dashboard">
  <div class="a-header">
    <div><h2 style="margin:0">âš™ï¸ ×¤×× ×œ × ×™×”×•×œ</h2></div>
    <button class="t-logout" onclick="doLogout()">×™×¦×™××”</button>
  </div>

  <div class="a-tabs">
    <button class="a-tab active" onclick="switchAdminTab('students')">ğŸ‘¥ ×ª×œ××™×“×™×</button>
    <button class="a-tab" onclick="switchAdminTab('teachers')">ğŸ‘©â€ğŸ« ××•×¨×™×</button>
    <button class="a-tab" onclick="switchAdminTab('import')">ğŸ“¥ ×™×™×‘×•× Excel</button>
  </div>

  <!-- Students tab -->
  <div id="a-students" class="a-section active">
    <div style="background:white;border-radius:16px;padding:25px;margin-bottom:20px;box-shadow:0 4px 15px rgba(0,0,0,0.06)">
      <h3 style="margin-top:0;color:#2d3436">â• ×”×•×¡×£ ×ª×œ××™×“</h3>
      <div class="form-row">
        <div><label style="font-size:0.85rem;font-weight:700;color:#555;display:block;margin-bottom:4px">×©× ××œ×</label><input id="new-s-name" class="mini-input" placeholder="×©× ×”×ª×œ××™×“"></div>
        <div><label style="font-size:0.85rem;font-weight:700;color:#555;display:block;margin-bottom:4px">×ª×¢×•×“×ª ×–×”×•×ª</label><input id="new-s-id" class="mini-input" placeholder="000000000" inputmode="numeric"></div>
        <div><label style="font-size:0.85rem;font-weight:700;color:#555;display:block;margin-bottom:4px">×›×™×ª×”</label><input id="new-s-class" class="mini-input" placeholder='×™"× 1'></div>
        <div><label style="font-size:0.85rem;color:transparent;display:block;margin-bottom:4px">.</label><button class="action-btn" onclick="adminAddStudent()">×”×•×¡×£</button></div>
      </div>
    </div>
    <div id="admin-students-table-wrap"></div>
  </div>

  <!-- Teachers tab -->
  <div id="a-teachers" class="a-section">
    <div style="background:white;border-radius:16px;padding:25px;margin-bottom:20px;box-shadow:0 4px 15px rgba(0,0,0,0.06)">
      <h3 style="margin-top:0;color:#2d3436">â• ×”×•×¡×£ ××•×¨×”</h3>
      <div style="display:grid;grid-template-columns:1fr 1fr 1fr 1fr auto;gap:12px;align-items:end;margin-bottom:15px">
        <div><label style="font-size:0.85rem;font-weight:700;color:#555;display:block;margin-bottom:4px">×©× ××œ×</label><input id="new-t-name" class="mini-input" placeholder="×©× ×”××•×¨×”"></div>
        <div><label style="font-size:0.85rem;font-weight:700;color:#555;display:block;margin-bottom:4px">×ª×¢×•×“×ª ×–×”×•×ª</label><input id="new-t-id" class="mini-input" placeholder="000000000" inputmode="numeric"></div>
        <div><label style="font-size:0.85rem;font-weight:700;color:#555;display:block;margin-bottom:4px">×¡×™×¡××”</label><input id="new-t-pass" class="mini-input" placeholder="×¡×™×¡××”" type="password" value="1234"></div>
        <div><label style="font-size:0.85rem;font-weight:700;color:#555;display:block;margin-bottom:4px">×›×™×ª×•×ª (××•×¤×¨×“×•×ª ×‘×¤×¡×™×§)</label><input id="new-t-classes" class="mini-input" placeholder='×™"× 1, ×™"× 2'></div>
        <div><label style="font-size:0.85rem;color:transparent;display:block;margin-bottom:4px">.</label><button class="action-btn" onclick="adminAddTeacher()">×”×•×¡×£</button></div>
      </div>
      <div style="font-size:0.85rem;color:#888;background:#f8f9fa;padding:10px 14px;border-radius:8px">
        ğŸ’¡ ×”×›× ×¡ ××ª ×©××•×ª ×”×›×™×ª×•×ª ×‘×“×™×•×§ ×›×¤×™ ×©×”×•×’×“×¨×• ×‘×¢×ª ×”×•×¡×¤×ª ×”×ª×œ××™×“×™×, ××•×¤×¨×“×•×ª ×‘×¤×¡×™×§. ×œ×“×•×’××”: <strong>×™"× 1, ×™"×‘ 3</strong>
      </div>
    </div>
    <div id="admin-teachers-table-wrap"></div>
  </div>

  <!-- Import tab -->
  <div id="a-import" class="a-section">
    <div style="background:white;border-radius:16px;padding:30px;box-shadow:0 4px 15px rgba(0,0,0,0.06)">
      <h3 style="margin-top:0;color:#2d3436">ğŸ“¥ ×™×™×‘×•× ×ª×œ××™×“×™× ×-Excel</h3>
      <div style="background:#fffbe6;border:1px solid #ffe58f;padding:15px;border-radius:10px;margin-bottom:20px;color:#b7791f;font-size:0.9rem">
        âš ï¸ ×”×§×•×‘×¥ ×—×™×™×‘ ×œ×”×›×™×œ ×¢××•×“×•×ª: <strong>×©×</strong>, <strong>×ª×¢×•×“×ª ×–×”×•×ª</strong>, <strong>×›×™×ª×”</strong>
        (×”×›×•×ª×¨×•×ª ×‘×©×•×¨×” ×”×¨××©×•× ×”)
      </div>
      <div class="excel-upload-area" onclick="document.getElementById('excel-input').click()">
        <div style="font-size:3rem;margin-bottom:10px">ğŸ“Š</div>
        <div style="font-weight:800;font-size:1.1rem;color:#4a69bd">×œ×—×¥ ×œ×‘×—×™×¨×ª ×§×•×‘×¥ Excel</div>
        <div style="color:#888;margin-top:5px;font-size:0.9rem">.xlsx / .xls</div>
      </div>
      <input type="file" id="excel-input" accept=".xlsx,.xls" style="display:none" onchange="handleExcelUpload(event)">
      <div id="import-preview" style="margin-top:20px"></div>
    </div>
  </div>
</div>

<div class="nav-container"><div class="nav-bar">
    <button class="nav-btn active" onclick="show('home', this)"><span class="material-icons-round">home</span> ×©×¢×¨</button>
    <button class="nav-btn" onclick="show('final-dashboard', this)"><span class="material-icons-round">analytics</span> ×ª××•× ×ª ××¦×‘</button>
    <button class="nav-btn" onclick="show('p-final', this)"><span class="material-icons-round">school</span> ×¢×‘×•×“×ª ×’××¨</button>
    <button class="nav-btn" onclick="show('finish', this)"><span class="material-icons-round">save</span> ×¡×™×•×</button>
</div></div>

<div class="glass-container">
    
<!-- ×“×£ ×”×‘×™×ª -->
<div id="home" class="page active">
    <h1>×¢×‘×•×“×ª ×’××¨ ××¡×œ×•×œ ×œ×"×“</h1>
    <p class="subtitle">×œ××™×“×” ××‘×•×¡×¡×ª ×“×™×œ××•×ª</p>
    
    <div style="text-align: center; margin: 30px 0;">
        <img 
    
    <div style="background:white; padding:20px; border-radius:15px; margin-bottom:30px;">
        <div id="selection-wrapper">
            <div id="display-fixed-name"></div>
            <div class="hidden-after-login">
                <label>×‘×—×¨/×™ ××ª ×©××š ××”×¨×©×™××”:</label>
                <select id="studentName" onchange="syncSelection(this.value)">
                    <option value="">-- ×‘×—×¨ ×ª×œ××™×“/×” --</option>
                </select>
            </div>
            <a id="personalDriveLink" href="#" target="_blank" class="drive-link-btn">
                <span class="material-icons-round">folder_shared</span> ×¤×ª×™×—×ª ×ª×™×§×™×™×ª ×”×“×¨×™×™×‘ ×©×œ×™
            </a>
        </div>
        
        <div style="margin-top: 40px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 30px; border-radius: 20px; text-align: center; box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);">
            <h2 style="color: white; margin: 0 0 15px 0; font-size: 2rem;">ğŸ“ ×¢×‘×•×“×ª ×”×’××¨</h2>
            <p style="font-size: 1.2rem; opacity: 0.95; margin-bottom: 25px; line-height: 1.8;">
                ×¢×‘×•×“×ª ×”×’××¨ ×”×™× ×”×–×“×× ×•×ª ×œ×—×§×•×¨ × ×•×©× ×©××¢× ×™×™×Ÿ ××ª×›× ×‘×¢×•××§,<br>
                ×•×œ×”×¤×’×™×Ÿ ××ª ×”×™×“×¢ ×•×”××•×¨×™×™× ×•×ª ×”×ª×§×©×•×¨×ª×™×ª ×©×¨×›×©×ª×.
            </p>
            <button onclick="show('p-final', document.querySelectorAll('.nav-btn')[2])" style="background: white; color: #667eea; border: none; padding: 15px 40px; border-radius: 30px; font-size: 1.2rem; font-weight: bold; cursor: pointer; box-shadow: 0 8px 20px rgba(0,0,0,0.2); transition: all 0.3s;">
                <span class="material-icons-round" style="vertical-align: middle; margin-left: 8px;">arrow_back</span>
                ×”×ª×—×œ ×¢×›×©×™×•
            </button>
        </div>
    </div>

    <div class="home-grid">
        <div class="home-card" onclick="show('final-dashboard', document.querySelectorAll('.nav-btn')[1])">
            <span class="material-icons-round home-icon" style="background:#e3f2fd; color:#2196f3;">analytics</span>
            <h3>×ª××•× ×ª ××¦×‘</h3>
            <p>×¢×§×•×‘ ××—×¨ ×”×”×ª×§×“××•×ª ×‘×¢×‘×•×“×”</p>
        </div>
        <div class="home-card" onclick="show('p-final', document.querySelectorAll('.nav-btn')[2])">
            <span class="material-icons-round home-icon" style="background:#f3e5f5; color:#8e44ad;">assignment_turned_in</span>
            <h3>×¢×‘×•×“×ª ×”×’××¨</h3>
            <p>××—×§×¨, ×›×ª×™×‘×” ×•×”×¤×§×”</p>
        </div>
    </div>
</div>

<!-- ×ª××•× ×ª ××¦×‘ -->
<div id="final-dashboard" class="page">
    <h1 style="color: var(--final-primary);">ğŸ“Š ×ª××•× ×ª ××¦×‘ - ×¢×‘×•×“×ª ×”×’××¨</h1>
    <p style="text-align: center; color: #666; margin-bottom: 30px;">××¢×§×‘ ××—×¨ ×”×”×ª×§×“××•×ª ×©×œ×š ×‘×›×œ ×©×œ×‘×™ ×”×¢×‘×•×“×”</p>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
        
        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3); position: relative; overflow: hidden;">
            <div style="font-size: 3rem; opacity: 0.2; position: absolute; top: 10px; left: 10px;">ğŸ“ˆ</div>
            <div style="font-size: 2.5rem; font-weight: 900; margin-bottom: 5px; position: relative; z-index: 2;" id="finalTotalProgress">0%</div>
            <div style="font-size: 0.95rem; opacity: 0.9; position: relative; z-index: 2;">×”×ª×§×“××•×ª ×›×œ×œ×™×ª</div>
            <div style="background: rgba(255,255,255,0.3); height: 8px; border-radius: 10px; margin-top: 15px; overflow: hidden; position: relative; z-index: 2;">
                <div id="finalProgressBar" style="background: white; height: 100%; width: 0%; border-radius: 10px; transition: width 0.6s ease;"></div>
            </div>
        </div>

        <div style="background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border-right: 6px solid #00b894; position: relative; overflow: hidden;">
            <div style="font-size: 3rem; opacity: 0.1; position: absolute; top: 10px; left: 10px;">âœ…</div>
            <div style="font-size: 2.5rem; font-weight: 900; margin-bottom: 5px; color: #00b894; position: relative; z-index: 2;" id="finalCompletedSteps">0/5</div>
            <div style="font-size: 0.95rem; color: #666; position: relative; z-index: 2;">×©×œ×‘×™× ×©×”×•×©×œ××•</div>
        </div>

        <div style="background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border-right: 6px solid #e74c3c; position: relative; overflow: hidden;">
            <div style="font-size: 3rem; opacity: 0.1; position: absolute; top: 10px; left: 10px;">ğŸ“</div>
            <div style="font-size: 2.5rem; font-weight: 900; margin-bottom: 5px; color: #e74c3c; position: relative; z-index: 2;" id="finalMissingItems">0</div>
            <div style="font-size: 0.95rem; color: #666; position: relative; z-index: 2;">×¤×¨×™×˜×™× ×—×¡×¨×™×</div>
        </div>

        <div style="background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border-right: 6px solid #f39c12; position: relative; overflow: hidden;">
            <div style="font-size: 3rem; opacity: 0.1; position: absolute; top: 10px; left: 10px;">â±ï¸</div>
            <div style="font-size: 1.8rem; font-weight: 900; margin-bottom: 5px; color: #f39c12; position: relative; z-index: 2;" id="finalEstimatedTime">-</div>
            <div style="font-size: 0.95rem; color: #666; position: relative; z-index: 2;">×–××Ÿ ××©×•×¢×¨ ×œ×¡×™×•×</div>
        </div>
    </div>

    <div id="nextTaskBox" style="background: linear-gradient(135deg, #ffeaa7, #fdcb6e); padding: 25px; border-radius: 20px; margin-bottom: 30px; border-right: 6px solid #e17055; display: none;">
        <h3 style="color: #d63031; margin-top: 0; display: flex; align-items: center; gap: 10px;">
            <span class="material-icons-round">flag</span>
            ×”××©×™××” ×”×‘××” ×©×œ×š
        </h3>
        <p id="nextTaskText" style="font-size: 1.1rem; color: #2d3436; margin: 0; font-weight: 500;"></p>
    </div>

    <div style="background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);">
        <h2 style="margin-top: 0; margin-bottom: 25px; color: var(--final-primary);">ğŸ“‹ ×¤×™×¨×•×˜ ×œ×¤×™ ×©×œ×‘×™×</h2>
        <div id="finalStepsList"></div>
    </div>

    <button class="btn-back-lobby" onclick="show('home', document.querySelectorAll('.nav-btn')[0])" style="margin-top: 30px;">×—×–×¨×” ×œ×©×¢×¨</button>
</div>

<!-- ×¢×‘×•×“×ª ×’××¨ -->
<div id="p-final" class="page">
    <h1 style="color: var(--final-primary);">×¢×‘×•×“×ª ×”×’××¨</h1>
    <p style="text-align: center; color: #666; margin-bottom: 20px;">××¡×¢ ××œ× ×œ×§×¨××ª ×¤×¨×•×™×§×˜ ×”×’××¨ ×©×œ×›× - ×—×§×¨, ×›×ª×™×‘×” ×•×”×¤×§×”</p>
    
    <div style="text-align: center; margin-bottom: 30px;">
        <button onclick="show('final-dashboard', document.querySelectorAll('.nav-btn')[1])" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 15px 40px; border-radius: 30px; font-size: 1.1rem; font-weight: bold; cursor: pointer; box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3); display: inline-flex; align-items: center; gap: 10px; transition: all 0.3s;">
            <span class="material-icons-round">analytics</span>
            ×ª××•× ×ª ××¦×‘ - ×¢×‘×•×“×ª ×”×’××¨
        </button>
    </div>
    
    <div id="final-menu-grid" class="final-menu-grid">
        <div class="final-menu-card" onclick="openWizard('w1')" style="background: linear-gradient(135deg, #fbc531, #f9ca24);">
            <div class="final-menu-icon" style="color: white;">ğŸ’¡</div>
            <div class="final-menu-title" style="color: white;">×”××•×¨×” ×™×© ×œ×™ ×¨×¢×™×•×Ÿ</div>
            <div class="final-menu-desc" style="color: rgba(255,255,255,0.9);">× ×™×¡×•×— ×¨××©×•× ×™ ×©×œ ×”× ×•×©×</div>
        </div>
        
        <div class="final-menu-card" onclick="openWizard('w2')" style="background: linear-gradient(135deg, #00a8ff, #0097e6);">
            <div class="final-menu-icon" style="color: white;">ğŸ“</div>
            <div class="final-menu-title" style="color: white;">×¤×¨×§ ×”××‘×•×</div>
            <div class="final-menu-desc" style="color: rgba(255,255,255,0.9);">×¨×¦×™×•× ×œ, ×¨×§×¢ ×•×¤×ª×™×—×”</div>
        </div>
        
        <div class="final-menu-card" onclick="openWizard('w3')" style="background: linear-gradient(135deg, #9c88ff, #8c7ae6);">
            <div class="final-menu-icon" style="color: white;">ğŸ“š</div>
            <div class="final-menu-title" style="color: white;">×¨×§×¢ ×ª×™××•×¨×˜×™</div>
            <div class="final-menu-desc" style="color: rgba(255,255,255,0.9);">××××¨×™×, ××•×©×’×™× ×•×‘×™×‘×œ×™×•×’×¨×¤×™×”</div>
        </div>
        
        <div class="final-menu-card" onclick="openWizard('w4')" style="background: linear-gradient(135deg, #4cd137, #44bd32);">
            <div class="final-menu-icon" style="color: white;">ğŸ”¬</div>
            <div class="final-menu-title" style="color: white;">××ª×•×“×•×œ×•×’×™×” ×•×—×§×¨</div>
            <div class="final-menu-desc" style="color: rgba(255,255,255,0.9);">×©××œ×•×ª ××—×§×¨ ×•×××¦××™×</div>
        </div>
        
        <div class="final-menu-card" onclick="openWizard('w5')" style="background: linear-gradient(135deg, #e84118, #c23616);">
            <div class="final-menu-icon" style="color: white;">âœ…</div>
            <div class="final-menu-title" style="color: white;">×¡×™×›×•× ×•×“×™×•×Ÿ ×‘×“×™×œ××•×ª</div>
            <div class="final-menu-desc" style="color: rgba(255,255,255,0.9);">××¡×§× ×•×ª ×•×”×©×œ××ª ×”×¢×‘×•×“×”</div>
        </div>
    </div>

    <div id="final-wizard-container" class="wizard-container">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2 style="color: var(--final-primary); margin: 0;">××™×œ×•×™ ×¢×‘×•×“×ª ×”×’××¨</h2>
            <button onclick="closeWizard()" style="background: #e74c3c; color: white; border: none; padding: 8px 20px; border-radius: 20px; cursor: pointer; font-weight: bold;">âœ• ×¡×’×•×¨</button>
        </div>
        
        <div class="project-steps-nav">
            <div class="step-btn" onclick="switchStep('w1')"><span>ğŸ’¡</span><span style="font-size: 0.8rem;">×¨×¢×™×•×Ÿ</span></div>
            <div class="step-btn" onclick="switchStep('w2')"><span>ğŸ“</span><span style="font-size: 0.8rem;">××‘×•×</span></div>
            <div class="step-btn" onclick="switchStep('w3')"><span>ğŸ“š</span><span style="font-size: 0.8rem;">×¨×§×¢</span></div>
            <div class="step-btn" onclick="switchStep('w4')"><span>ğŸ”¬</span><span style="font-size: 0.8rem;">×—×§×¨</span></div>
            <div class="step-btn" onclick="switchStep('w5')"><span>âœ…</span><span style="font-size: 0.8rem;">×¡×™×›×•×</span></div>
        </div>

        <!-- ×©×œ×‘ 1: ×”××•×¨×” ×™×© ×œ×™ ×¨×¢×™×•×Ÿ -->
        <div id="w1" class="project-section">
            <div class="final-box" style="background: linear-gradient(to left, #fffbea, white); border-right-color: #fbc531;">
                <div class="final-title" style="color: #f9ca24;">ğŸ’¡ ×©×œ×‘ 1: ×”××•×¨×” ×™×© ×œ×™ ×¨×¢×™×•×Ÿ</div>
                <p style="color: #666; line-height: 1.6;">×–×”×• ×”×©×œ×‘ ×”×¨××©×•×Ÿ ×©×‘×• ×ª× ×¡×—×• ××ª ×”×¨×¢×™×•×Ÿ ×”×‘×¡×™×¡×™ ×œ×¢×‘×•×“×ª ×”×’××¨ ×©×œ×›×. ×›××Ÿ ×ª×’×“×™×¨×• ××ª ×”× ×•×©×, ××ª ×©××œ×ª ×”××—×§×¨ ×”×¨××©×•× ×™×ª ×•××ª ×¡×•×’ ×”×”×¤×§×” ×©×ª×‘×—×¨×•.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”× ×•×©× (××©×¤×˜ ××—×“):</label>
                <input type="text" id="w1-topic" placeholder="×œ×“×•×’××”: '×”×©×¤×¢×ª ×”×¨×©×ª×•×ª ×”×—×‘×¨×ª×™×•×ª ×¢×œ ×“×™××•×™ ×”×’×•×£ ×©×œ ×‘× ×™ × ×•×¢×¨'">
            </div>
            
            <div class="form-group">
                <label>×©××œ×ª ××—×§×¨ ×¨××©×•× ×™×ª:</label>
                <textarea id="w1-question" rows="3" placeholder="××”×™ ×”×©××œ×” ×”××¨×›×–×™×ª ×©××ª× ×¨×•×¦×™× ×œ×—×§×•×¨?"></textarea>
            </div>
            
            <div class="form-group">
                <label>×¡×•×’ ×”×”×¤×§×”:</label>
                <select id="w1-type">
                    <option value="">-- ×‘×—×¨×• ×¡×•×’ ×”×¤×§×” --</option>
                    <option value="videocast">×•×™×“××•×§××¡×˜</option>
                    <option value="documentary">×¡×¨×˜ ×“×•×§×•×× ×˜×¨×™</option>
                    <option value="article">×›×ª×‘×” ×¢×™×ª×•× ××™×ª</option>
                    <option value="podcast">×¤×•×“×§××¡×˜</option>
                    <option value="other">××—×¨</option>
                </select>
            </div>
            
            <div class="nav-internal">
                <button class="btn-next-step" onclick="switchStep('w2')">×©×œ×‘ ×”×‘× â†</button>
            </div>
        </div>

        <!-- ×©×œ×‘ 2: ×¤×¨×§ ×”××‘×•× -->
        <div id="w2" class="project-section">
            <div style="text-align: center; margin-bottom: 30px;">
                <img 
            
            <div class="final-box" style="background: linear-gradient(to left, #e3f7ff, white); border-right-color: #00a8ff;">
                <div class="final-title" style="color: #0097e6;">ğŸ“ ×‘×¨×•×›×™× ×”×‘××™× ×œ×©×œ×‘ ×”××‘×•× â€“ ×¤×•×ª×—×™× ××ª ×”×¢×‘×•×“×” ×‘×¨×’×œ ×™××™×Ÿ!</div>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ×”××‘×•× ×”×•× ×”×¤×¨×§ ×”×¨××©×•×Ÿ ×‘×¢×‘×•×“×” ×©×œ×›×, ×•×”×•× ×‘×¢×¦× ×”×©×¢×¨ ×©×“×¨×›×• × ×›× ×¡×™× ××œ ×ª×•×š ×¢×•×œ××” ×©×œ ×”×¢×‘×•×“×”.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;"><strong>×”××‘×•× ×¢×•× ×” ×¢×œ ×”×©××œ×•×ª ×”×‘×¡×™×¡×™×•×ª:</strong></p>
                <ul style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    <li>ğŸ“Œ ×¢×œ ××” ×× ×™ ×”×•×œ×š/×ª ×œ×›×ª×•×‘?</li>
                    <li>ğŸ“Œ ×œ××” ×‘×—×¨×ª×™ ×“×•×•×§× ×‘× ×•×©× ×”×–×”?</li>
                    <li>ğŸ“Œ ××” ×× ×™ ×¨×•×¦×” ×œ×‘×“×•×§ ×•×œ×—×§×•×¨?</li>
                </ul>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ×–×”×• ×©×œ×‘ ×—×©×•×‘ ×›×™ ×”×•× ××¦×™×’ ××ª ×”× ×•×©×, ××ª ×”×¨×§×¢ ×©×œ×•, ××ª ×©××œ×ª ×”×—×§×¨, ××ª ×”×“×™×œ××” ×•×‘×¢×™×§×¨ ××¢×•×¨×¨ ×¡×§×¨× ×•×ª, ×•×œ×›×Ÿ ×›×“××™ ×œ×”×©×§×™×¢ ×‘×• ××—×©×‘×”.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ××¤×©×¨ ×œ×“××™×™×Ÿ ××ª ×”××‘×•× ×›××• ×§×“×™××•×Ÿ ×œ×¡×¨×˜ ××• ×›×ª×‘×” â€“ ×”×•× ×œ× ××’×œ×” ××ª ×›×œ ××” ×©×™×§×¨×”, ××‘×œ ×”×•× × ×•×ª×Ÿ ×”×¦×¦×” ×©××–××™× ×” ××•×ª× ×• ×œ×”×™×©××¨ ×•×œ×”×ª×¢× ×™×™×Ÿ.
                </p>
                <p style="color: #0097e6; font-weight: bold; line-height: 1.8;">
                    ×× ×—× ×• ×¤×” ×›×“×™ ×œ×›×•×•×Ÿ, ×œ×”× ×—×•×ª ×•×œ×ª××•×š ×‘×›× ×‘×›×œ ×©×œ×‘. ×‘×•××• × ×¦× ×œ×“×¨×š! ğŸš€
                </p>
            </div>
            
            <div class="tip-box">
                <span class="material-icons-round">lightbulb</span>
                <div><strong>×˜×™×¤:</strong> ×”×¨×¦×™×•× ×œ ××¡×‘×™×¨ ×œ××” ×‘×—×¨×ª× ×‘× ×•×©× ×”×–×” ×•××” ×—×©×•×‘ ×‘×•. ×ª× ×• ×“×•×’×××•×ª ××™×©×™×•×ª ××• ×—×‘×¨×ª×™×•×ª.</div>
            </div>
            
            <div class="form-group">
                <label>×¨×¦×™×•× ×œ - ×œ××” ×‘×—×¨×ª×™ ×‘× ×•×©×? (×¤×¡×§×” ××œ××”):</label>
                <textarea id="w2-rationale" rows="5" placeholder="×”×¡×‘×™×¨×• ××” ××©×š ××ª×›× ×œ× ×•×©×, ××” ××¢× ×™×™×Ÿ ×‘×•, ×•×œ××” ×”×•× ×¨×œ×•×•× ×˜×™..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×¨×§×¢ - ×¨×§×¢ ×›×œ×œ×™ ×¢×œ ×”× ×•×©× (×¤×¡×§×” ××œ××”):</label>
                <textarea id="w2-background" rows="5" placeholder="×ª× ×• ×¨×§×¢ ×›×œ×œ×™ ×¢×œ ×”× ×•×©× - ××” ×§×•×¨×” ×”×™×•×, × ×ª×•× ×™×, ××’××•×ª..."></textarea>
            </div>
            
            <h3 style="color: #00a8ff; margin-top: 30px;">ğŸ“° 3 ×˜×§×¡×˜×™× ×ª×§×©×•×¨×ª×™×™×</h3>
            <p style="color: #666;">×‘×—×¨×• 3 ×˜×§×¡×˜×™× (××××¨×™×, ×¡×¨×˜×•× ×™×, ×¤×¨×¡×•××•×ª ×•×›×•') ×”×§×©×•×¨×™× ×œ× ×•×©× ×©×œ×›×</p>
            
            <div class="form-group">
                <label>×˜×§×¡×˜ 1 - ×©× ×•×§×™×©×•×¨:</label>
                <input type="text" id="w2-text1-name" placeholder="×©× ×”×˜×§×¡×˜" class="allow-paste">
                <input type="text" id="w2-text1-link" placeholder="×§×™×©×•×¨ (URL)" class="allow-paste" style="margin-top: 8px;">
            </div>
            
            <div class="form-group">
                <label>×˜×§×¡×˜ 1 - ×”×¡×‘×¨ ×§×¦×¨ (2-3 ×©×•×¨×•×ª):</label>
                <textarea id="w2-text1-desc" rows="2" placeholder="××” ×”×˜×§×¡×˜ ××ª××¨? ××™×š ×”×•× ×§×©×•×¨ ×œ×¢×‘×•×“×” ×©×œ×›×?"></textarea>
            </div>
            
            <div class="form-group">
                <label>×˜×§×¡×˜ 2 - ×©× ×•×§×™×©×•×¨:</label>
                <input type="text" id="w2-text2-name" placeholder="×©× ×”×˜×§×¡×˜" class="allow-paste">
                <input type="text" id="w2-text2-link" placeholder="×§×™×©×•×¨ (URL)" class="allow-paste" style="margin-top: 8px;">
            </div>
            
            <div class="form-group">
                <label>×˜×§×¡×˜ 2 - ×”×¡×‘×¨ ×§×¦×¨ (2-3 ×©×•×¨×•×ª):</label>
                <textarea id="w2-text2-desc" rows="2" placeholder="××” ×”×˜×§×¡×˜ ××ª××¨? ××™×š ×”×•× ×§×©×•×¨ ×œ×¢×‘×•×“×” ×©×œ×›×?"></textarea>
            </div>
            
            <div class="form-group">
                <label>×˜×§×¡×˜ 3 - ×©× ×•×§×™×©×•×¨:</label>
                <input type="text" id="w2-text3-name" placeholder="×©× ×”×˜×§×¡×˜" class="allow-paste">
                <input type="text" id="w2-text3-link" placeholder="×§×™×©×•×¨ (URL)" class="allow-paste" style="margin-top: 8px;">
            </div>
            
            <div class="form-group">
                <label>×˜×§×¡×˜ 3 - ×”×¡×‘×¨ ×§×¦×¨ (2-3 ×©×•×¨×•×ª):</label>
                <textarea id="w2-text3-desc" rows="2" placeholder="××” ×”×˜×§×¡×˜ ××ª××¨? ××™×š ×”×•× ×§×©×•×¨ ×œ×¢×‘×•×“×” ×©×œ×›×?"></textarea>
            </div>
            
            <div class="nav-internal">
                <button class="btn-next-step" onclick="switchStep('w3')">×©×œ×‘ ×”×‘× â†</button>
                <button class="btn-prev" onclick="switchStep('w1')">â†’ ×—×–×¨×”</button>
            </div>
        </div>

        <!-- ×©×œ×‘ 3: ×¨×§×¢ ×ª×™××•×¨×˜×™ -->
        <div id="w3" class="project-section">
            <div style="text-align: center; margin-bottom: 30px;">
                <img 
            
            <div class="final-box" style="background: linear-gradient(to left, #f3e5ff, white); border-right-color: #9c88ff;">
                <div class="final-title" style="color: #8c7ae6;">ğŸ“š ×©×œ×‘ 3: ×¨×§×¢ ×ª×™××•×¨×˜×™</div>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ×œ×¤× ×™ ×©××ª×—×™×œ×™× ×œ×—×§×•×¨, ×—×©×•×‘ ×œ×”×‘×™×Ÿ ××” ×›×‘×¨ × ×××¨ ×•× ×—×§×¨ ×¢×œ ×”× ×•×©× ×©××ª× ×¢×•×¡×§×™× ×‘×•. ×–×” ×‘×“×™×•×§ ×”×ª×¤×§×™×“ ×©×œ ×”×¨×§×¢ ×”×ª×™××•×¨×˜×™: ×œ×‘× ×•×ª ×œ×¢×¦××›× ×‘×¡×™×¡ ×™×“×¢ ×©×™××™×¨ ××ª ×”×“×¨×š ×‘×”××©×š.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;"><strong>×‘×©×œ×‘ ×–×” ×ª×¢×©×• ×©×œ×•×©×” ×“×‘×¨×™× ××¨×›×–×™×™×:</strong></p>
                <ol style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    <li>×ª×¢×‘×“×• ×¢× ××××¨×™× - ×ª×§×¨××•, ×ª×¡×‘×™×¨×• ×ª×¦×˜×˜×• ×¤×¡×§××•×ª ×•×ª×—×©×‘×• ××™×š ×”×Ÿ ××ª×—×‘×¨×•×ª ×œ× ×•×©× ×©×œ×›×.</li>
                    <li>×ª×‘×—×¨×• ××•×©×’×™× ××ª×›× ×™×ª ×”×œ×™××•×“×™× - ×ª×¡×‘×™×¨×• ××•×ª× ×‘××™×œ×™× ×©×œ×›× ×•×ª×¨××• ×›×™×¦×“ ×”× ××ª×§×©×¨×™× ×œ× ×•×©× ×©×‘×—×¨×ª× ×•×œ×–×™×¨×•×ª × ×•×¡×¤×•×ª.</li>
                    <li>×ª×¦×™×’×• ××§×•×¨×•×ª ××™×“×¢ - ×›×œ ×”××§×•×¨×•×ª ×©××”× ×©××‘×ª× ×™×“×¢, ×›×“×™ ×©×”×¢×‘×•×“×” ×ª×”×™×” ×××™× ×”.</li>
                </ol>
                <p style="color: #8c7ae6; font-weight: bold; line-height: 1.8;">
                    ×©×™××• ×œ×‘ - ×× ×—× ×• × ×œ×•×•×” ××ª×›× ×©×œ×‘ ××—×¨×™ ×©×œ×‘ ×•× ×¡×‘×™×¨ ×›×œ ×“×‘×¨ ×›×©× ×’×™×¢ ××œ×™×•. ğŸš€
                </p>
            </div>
            
            <h3 style="color: #8c7ae6; margin-top: 30px;">ğŸ“„ ×¡×§×™×¨×” ××§×“××™×ª</h3>
            <div style="background: #f9f3ff; border: 2px solid #e0d4f7; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin: 0;">
                    ×‘×©×œ×‘ ×–×” ×¢×œ×™×›× ×œ×‘×—×•×¨ ×©× ×™ ××××¨×™× ××§×“××™×™× ×”×§×©×•×¨×™× ×œ× ×•×©× ×•×œ×”×¡×‘×™×¨ ×‘×§×¦×¨×” ×‘××” ×”× ×¢×•×¡×§×™× (××” ×—×§×¨×• ×‘×›×œ ××××¨? ××” ×’×™×œ×•? ××• ××” × ×™×¡×• ×œ×˜×¢×•×Ÿ). ×œ×¤×—×•×ª ××—×“ ××”× ×—×™×™×‘ ×œ×¢×¡×•×§ ×‘×ª×—×•× ×”×ª×§×©×•×¨×ª.
                </p>
                <p style="color: #666; line-height: 1.8; margin-top: 10px; margin-bottom: 0;">
                    <strong>×©×™××• ×œ×‘:</strong> ××¤×©×¨ ×œ××¦×•× ××××¨×™× ××ª×•×š ××§×•×¨×•×ª ××™×“×¢ ×××™× ×™× ×‘××™× ×˜×¨× ×˜, ×××’×¨×™ ××™×“×¢, ×›×ª×‘×™ ×¢×ª ×•×¢×•×“.
                </p>
            </div>
            
            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ“„ ××××¨ ××§×“××™ 1</h4>
            
            <div class="form-group">
                <label>×”×¦×™×’×• ××ª ×©× ×”××××¨ ×”×¨××©×•×Ÿ ×©×‘×—×¨×ª×, ××ª ×©× ×›×•×ª×‘ ×”××××¨, ×•××ª ×©× ×ª ×”×¤×¨×¡×•×:</label>
                <input type="text" id="w3-article1-title" placeholder="×©× ×”××××¨, ×©× ×”××—×‘×¨, ×©× ×ª ×¤×¨×¡×•×">
            </div>
            
            <div class="form-group">
                <label>×”×˜××™×¢×• ××ª ×”×§×™×©×•×¨ ×œ××××¨:</label>
                <input type="text" id="w3-article1-link" placeholder="×”×“×‘×™×§×• ×›××Ÿ ××ª ×”×§×™×©×•×¨ ×”××œ×" class="allow-paste">
            </div>
            
            <div class="form-group">
                <label>×›×ª×‘×• ×¤×¡×§×” ×§×¦×¨×” (3-5 ×©×•×¨×•×ª) ×©×ª×¡×‘×™×¨ ××ª ×¢×™×§×¨×™ ×”××××¨:</label>
                <textarea id="w3-article1-summary" rows="4" placeholder="×¢×œ ××” ×”××××¨? ××” ×—×§×¨×•? ××” ×’×™×œ×•?"></textarea>
            </div>
            
            <div class="form-group">
                <label>×¦×˜×˜×• ××ª ×”×¤×¡×§×” ×”×¨××©×•× ×” ×©×‘×—×¨×ª× ××ª×•×š ×”××××¨: (×‘××™×“×” ×•×‘×—×¨×ª× ××××¨ ×‘×× ×’×œ×™×ª ×¢×œ×™×›× ×œ×ª×¨×’× ×œ×¢×‘×¨×™×ª)</label>
                <textarea id="w3-article1-quote1" rows="3" placeholder='×œ×“×•×’××”: "×œ×¤×™ ××—×§×¨ ×–×”, × ××¦× ×›×™..."'></textarea>
            </div>
            
            <div class="form-group">
                <label>×”×¡×‘×™×¨×• ××ª ×”×¤×¡×§×” ×”×¨××©×•× ×” ×©×‘×—×¨×ª× - ××” × ×××¨ ×‘×”? (×‘××™×œ×™× ×©×œ×›×), ××“×•×¢ ×‘×—×¨×ª× ×‘×¤×¡×§×” ×–×•? ×›×™×¦×“ ×”×™× ××ª×§×©×¨×ª ×œ× ×•×©× ×”×¤×¨×•×™×§×˜? ××™×œ×• ××•×©×’×™× ×©×œ××“× ×• ××¤×©×¨ ×œ××¦×•× ××• ×œ×”×‘×™×Ÿ ××ª×•×›×”?</label>
                <textarea id="w3-article1-explain1" rows="5" placeholder="×”×¡×‘×™×¨×• ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×¦×˜×˜×• ××ª ×”×¤×¡×§×” ×”×©× ×™×™×” ×©×‘×—×¨×ª× ××ª×•×š ×”××××¨: (×‘××™×“×” ×•×‘×—×¨×ª× ××××¨ ×‘×× ×’×œ×™×ª ×¢×œ×™×›× ×œ×ª×¨×’× ×œ×¢×‘×¨×™×ª)</label>
                <textarea id="w3-article1-quote2" rows="3" placeholder='×œ×“×•×’××”: "×”××¡×§× ×” ×”×¢×™×§×¨×™×ª ×”×™×..."'></textarea>
            </div>
            
            <div class="form-group">
                <label>×”×¡×‘×™×¨×• ××ª ×”×¤×¡×§×” ×”×©× ×™×™×” ×©×‘×—×¨×ª× - ××” × ×××¨ ×‘×”? (×‘××™×œ×™× ×©×œ×›×), ××“×•×¢ ×‘×—×¨×ª× ×‘×¤×¡×§×” ×–×•? ×›×™×¦×“ ×”×™× ××ª×§×©×¨×ª ×œ× ×•×©× ×”×¤×¨×•×™×§×˜? ××™×œ×• ××•×©×’×™× ×©×œ××“× ×• ××¤×©×¨ ×œ××¦×•× ××• ×œ×”×‘×™×Ÿ ××ª×•×›×”?</label>
                <textarea id="w3-article1-explain2" rows="5" placeholder="×”×¡×‘×™×¨×• ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ“„ ××××¨ ××§×“××™ 2</h4>
            
            <div class="form-group">
                <label>×”×¦×™×’×• ××ª ×©× ×”××××¨ ×”×©× ×™ ×©×‘×—×¨×ª×, ××ª ×©× ×›×•×ª×‘ ×”××××¨, ×•××ª ×©× ×ª ×”×¤×¨×¡×•×:</label>
                <input type="text" id="w3-article2-title" placeholder="×©× ×”××××¨, ×©× ×”××—×‘×¨, ×©× ×ª ×¤×¨×¡×•×">
            </div>
            
            <div class="form-group">
                <label>×”×˜××™×¢×• ××ª ×”×§×™×©×•×¨ ×œ××××¨:</label>
                <input type="text" id="w3-article2-link" placeholder="×”×“×‘×™×§×• ×›××Ÿ ××ª ×”×§×™×©×•×¨ ×”××œ×" class="allow-paste">
            </div>
            
            <div class="form-group">
                <label>×›×ª×‘×• ×¤×¡×§×” ×§×¦×¨×” (3-5 ×©×•×¨×•×ª) ×©×ª×¡×‘×™×¨ ××ª ×¢×™×§×¨×™ ×”××××¨:</label>
                <textarea id="w3-article2-summary" rows="4" placeholder="×¢×œ ××” ×”××××¨? ××” ×—×§×¨×•? ××” ×’×™×œ×•?"></textarea>
            </div>
            
            <div class="form-group">
                <label>×¦×˜×˜×• ××ª ×”×¤×¡×§×” ×”×¨××©×•× ×” ×©×‘×—×¨×ª× ××ª×•×š ×”××××¨: (×‘××™×“×” ×•×‘×—×¨×ª× ××××¨ ×‘×× ×’×œ×™×ª ×¢×œ×™×›× ×œ×ª×¨×’× ×œ×¢×‘×¨×™×ª)</label>
                <textarea id="w3-article2-quote1" rows="3" placeholder='×œ×“×•×’××”: "×œ×¤×™ ××—×§×¨ ×–×”, × ××¦× ×›×™..."'></textarea>
            </div>
            
            <div class="form-group">
                <label>×”×¡×‘×™×¨×• ××ª ×”×¤×¡×§×” ×”×¨××©×•× ×” ×©×‘×—×¨×ª× - ××” × ×××¨ ×‘×”? (×‘××™×œ×™× ×©×œ×›×), ××“×•×¢ ×‘×—×¨×ª× ×‘×¤×¡×§×” ×–×•? ×›×™×¦×“ ×”×™× ××ª×§×©×¨×ª ×œ× ×•×©× ×”×¤×¨×•×™×§×˜? ××™×œ×• ××•×©×’×™× ×©×œ××“× ×• ××¤×©×¨ ×œ××¦×•× ××• ×œ×”×‘×™×Ÿ ××ª×•×›×”?</label>
                <textarea id="w3-article2-explain1" rows="5" placeholder="×”×¡×‘×™×¨×• ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×¦×˜×˜×• ××ª ×”×¤×¡×§×” ×”×©× ×™×™×” ×©×‘×—×¨×ª× ××ª×•×š ×”××××¨: (×‘××™×“×” ×•×‘×—×¨×ª× ××××¨ ×‘×× ×’×œ×™×ª ×¢×œ×™×›× ×œ×ª×¨×’× ×œ×¢×‘×¨×™×ª)</label>
                <textarea id="w3-article2-quote2" rows="3" placeholder='×œ×“×•×’××”: "×”××¡×§× ×” ×”×¢×™×§×¨×™×ª ×”×™×..."'></textarea>
            </div>
            
            <div class="form-group">
                <label>×”×¡×‘×™×¨×• ××ª ×”×¤×¡×§×” ×”×©× ×™×™×” ×©×‘×—×¨×ª× - ××” × ×××¨ ×‘×”? (×‘××™×œ×™× ×©×œ×›×), ××“×•×¢ ×‘×—×¨×ª× ×‘×¤×¡×§×” ×–×•? ×›×™×¦×“ ×”×™× ××ª×§×©×¨×ª ×œ× ×•×©× ×”×¤×¨×•×™×§×˜? ××™×œ×• ××•×©×’×™× ×©×œ××“× ×• ××¤×©×¨ ×œ××¦×•× ××• ×œ×”×‘×™×Ÿ ××ª×•×›×”?</label>
                <textarea id="w3-article2-explain2" rows="5" placeholder="×”×¡×‘×™×¨×• ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <h3 style="color: #8c7ae6; margin-top: 40px;">ğŸ“– ×¡×§×™×¨×” ××•×©×’×™×ª ×¨×—×‘×”</h3>
            <div style="background: #f9f3ff; border: 2px solid #e0d4f7; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×¡×™×™××ª× ×¢× ×©×œ×‘ ×”××××¨×™× ×•×–×” × ×”×“×¨.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×›×¢×ª, ×¢×œ×™×›× ×œ×‘×—×•×¨ ×¢×©×¨×” ××•×©×’×™× ××ª×•×š ×ª×›× ×™×ª ×”×œ×™××•×“×™× ×©×™×© ×œ×”× ×§×©×¨ ×œ×¤×¨×•×™×§×˜. ×›×œ ××•×©×’ ×©×ª×‘×—×¨×• ×¦×¨×™×š ×œ×”×™×•×ª ×¨×œ×•×•× ×˜×™ - ×›×œ×•××¨ ×›×–×” ×©×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×¢×‘×•×“×” ×©×œ×›×, ×‘×ª×”×œ×™×š ×”×—×©×™×‘×” ×•×”×—×§×¨ ×©×œ×›×.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×¢×œ×™×›× ×œ×”×’×“×™×¨ ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×, ×•×œ×”×¡×‘×™×¨ ××“×•×¢ ×‘×—×¨×ª× ×‘×• ×•××™×š ×”×•× ××ª×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    <strong>×œ× ××¦××ª× 10 ××•×©×’×™× ××ª××™××™×?</strong> ××œ ×“××’×”! ×ª××™×“ ×ª×•×›×œ×• ×œ×”×ª×—×™×œ ×¢× ×›××” ××•×©×’×™× ×‘×•×“×“×™×, ×•×œ×—×–×•×¨ ×•×œ×”×•×¡×™×£ ××•×©×’×™× ×œ××—×¨ ×©×‘×™×¦×¢×ª× ××ª ×”×—×§×¨ ×•×’×™×‘×©×ª× ××¡×§× ×•×ª (×•×–×” ××¤×™×œ×• ××•××œ×¥!)
                </p>
                <p style="color: #8c7ae6; font-weight: bold; line-height: 1.8; margin: 0;">
                    ××˜×¨×ª ×”×—×œ×§ ×”×–×” ×‘×¢×‘×•×“×” ×”×™× ×œ×”×¨××•×ª ×©××ª× ×œ× ×¨×§ ××©×ª××©×™× ×‘××•×©×’×™× "×›×™ ×¦×¨×™×š", ××œ× ×‘×××ª ××‘×™× ×™× ××•×ª×, ×™×•×“×¢×™× ×œ×§×©×¨ ××•×ª× ×œ×¢×‘×•×“×” ×©×œ×›× ×•×¨×•××™× ×›×™×¦×“ ×”× ×¤×•×¢×œ×™× ×‘××¦×™××•×ª.
                </p>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 1</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×¨××©×•×Ÿ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept1-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept1-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept1-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept1-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept1-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept1-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept1-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 2</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×©× ×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept2-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept2-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept2-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept2-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept2-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept2-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept2-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 3</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×©×œ×™×©×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept3-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept3-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept3-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept3-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept3-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept3-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept3-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 4</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×¨×‘×™×¢×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept4-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept4-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept4-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept4-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept4-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept4-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept4-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 5</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×—××™×©×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept5-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept5-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept5-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept5-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept5-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept5-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept5-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 6</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×©×™×©×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept6-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept6-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept6-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept6-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept6-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept6-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept6-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 7</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×©×‘×™×¢×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept7-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept7-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept7-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept7-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept7-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept7-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept7-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 8</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×©××™× ×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept8-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept8-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept8-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept8-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept8-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept8-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept8-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 9</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×ª×©×™×¢×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept9-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept9-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept9-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept9-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept9-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept9-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept9-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h4 style="color: #8c7ae6; margin-top: 30px; background: #f3e5ff; padding: 15px; border-radius: 10px;">ğŸ’¡ ××•×©×’ 10</h4>
            
            <div class="form-group">
                <label>×”××•×©×’ ×”-×¢×©×™×¨×™ ×©×‘×—×¨×ª×™:</label>
                <input type="text" id="w3-concept10-name" placeholder="×©× ×”××•×©×’">
            </div>
            
            <div class="form-group">
                <label>×”×”×¡×‘×¨ ×©×œ×™ ×œ××•×©×’:</label>
                <textarea id="w3-concept10-explanation" rows="3" placeholder="×”×¡×‘×™×¨×• ××ª ×”××•×©×’ ×‘××™×œ×™× ×©×œ×›×..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ××ª×§×©×¨/××ª××™× ×œ×¢×‘×•×“×” ×©×œ×™? ××“×•×¢ ×”×•× ×¨×œ×•×•× ×˜×™? ××™×š ×”×•× ×‘× ×œ×™×“×™ ×‘×™×˜×•×™?</label>
                <textarea id="w3-concept10-connection" rows="4" placeholder="×”×¡×‘×™×¨×• ××ª ×”×§×©×¨ ×œ×¢×‘×•×“×” ×©×œ×›×..."></textarea>
            </div>
            
            <div style="background: #fff9e6; border: 1px solid #ffe58f; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                <p style="color: #b7791f; font-weight: bold; margin: 0 0 10px 0;">×›×¢×ª, ×™×© ×œ×¦×™×™×Ÿ ×©×ª×™ ×–×™×¨×•×ª × ×•×¡×¤×•×ª ×©×‘×”×Ÿ ×™×›×•×œ ×œ×”×•×¤×™×¢ ×”××•×©×’ ×©×‘×—×¨×ª×. ×‘×›×œ ×–×™×¨×” ×—×©×•×‘ ×œ×”×¡×‘×™×¨ ×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™.</p>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×¨××©×•× ×”:</label>
                <input type="text" id="w3-concept10-arena1" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept10-arena1-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>
            
            <div class="form-group">
                <label>×©× ×”×–×™×¨×” ×”×©× ×™×™×”:</label>
                <input type="text" id="w3-concept10-arena2" placeholder="×œ×“×•×’××”: ×¨×©×ª×•×ª ×—×‘×¨×ª×™×•×ª, ×¤×¨×¡×•××•×ª, ×—×™× ×•×š...">
            </div>
            
            <div class="form-group">
                <label>×›×™×¦×“ ×”××•×©×’ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×–×™×¨×” ×–×•:</label>
                <textarea id="w3-concept10-arena2-explain" rows="3" placeholder="×”×¡×‘×™×¨×• ×›×™×¦×“ ×”××•×©×’ ××•×¤×™×¢ ×‘×–×™×¨×” ×–×•..."></textarea>
            </div>

            <h3 style="color: #8c7ae6; margin-top: 40px;">ğŸ“š ×‘×™×‘×œ×™×•×’×¨×¤×™×”</h3>
            <div style="background: #f9f3ff; border: 2px solid #e0d4f7; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×”×’×¢×ª× ×œ×¡×•×£ ×¤×¨×§ ×”×¨×§×¢ ×”×ª×™××•×¨×˜×™.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×›×¢×ª, ×¢×œ×™×›× ×œ×”×¦×™×’ ××ª ×¨×©×™××ª ××§×•×¨×•×ª ×”××™×“×¢ ×©×‘×”× × ×¢×–×¨×ª×. ×‘×©×œ×‘ ×”×–×” ×™×© ×œ×¨×©×•× ××ª ×›×œ ×”××××¨×™×, ×”××ª×¨×™× ×•×”×›×ª×‘×•×ª ×©××”× ×©××‘×ª× ××™×“×¢ ×•×œ×”×¦×™×’ ××•×ª× ×‘×¨×©×™××” ×‘×™×‘×œ×™×•×’×¨×¤×™×ª ××¡×•×“×¨×ª. ×”×§×¤×™×“×• ×œ×›×œ×•×œ ×‘×›×œ ××§×•×¨ ××ª:
                </p>
                <ul style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    <li>×©× ×”×›×•×ª×‘</li>
                    <li>×›×•×ª×¨×ª ×”××××¨/×›×ª×‘×”</li>
                    <li>××§×•×¨ ×”×¤×¨×¡×•× (×œ××©×œ: ××ª×¨ Ynet, ×¢×™×ª×•×Ÿ "×”××¨×¥" ×•×›×•')</li>
                    <li>×ª××¨×™×š ×”×¤×¨×¡×•×</li>
                    <li>×§×™×©×•×¨ (×× ××“×•×‘×¨ ×‘××ª×¨ ××™× ×˜×¨× ×˜)</li>
                </ul>
                <p style="color: #8c7ae6; font-weight: bold; line-height: 1.8; margin: 0;">
                    ×—×©×•×‘: ×”×¦×’×ª ×”××§×•×¨×•×ª ×‘×¦×•×¨×” ××¡×•×“×¨×ª ××—×–×§×ª ××ª ××”×™×× ×•×ª ×”×¢×‘×•×“×” ×©×œ×›× ×•××›×‘×“×ª ××ª ×–×›×•×™×•×ª ×”×™×•×¦×¨×™×.
                </p>
            </div>
            
            <div class="form-group">
                <label>×¨×©×™××ª ××§×•×¨×•×ª (×›×œ ××§×•×¨ ×‘×©×•×¨×” × ×¤×¨×“×ª):</label>
                <textarea id="w3-bibliography" rows="8" placeholder="1. ×©× ×”×›×•×ª×‘ (×©× ×”). ×›×•×ª×¨×ª ×”××××¨. ××§×•×¨ ×”×¤×¨×¡×•×. ×§×™×©×•×¨
2. ×©× ×”×›×•×ª×‘ (×©× ×”). ×›×•×ª×¨×ª ×”×¡×¤×¨. ×”×•×¦××”.
..."></textarea>
            </div>
            
            <div class="nav-internal">
                <button class="btn-next-step" onclick="switchStep('w4')">×©×œ×‘ ×”×‘× â†</button>
                <button class="btn-prev" onclick="switchStep('w2')">â†’ ×—×–×¨×”</button>
            </div>
        </div>

        <!-- ×©×œ×‘ 4: ××ª×•×“×•×œ×•×’×™×” ×•×—×§×¨ -->
        <div id="w4" class="project-section">
            <div style="text-align: center; margin-bottom: 30px;">
                <img 
            
            <div class="final-box" style="background: linear-gradient(to left, #e5ffe5, white); border-right-color: #4cd137;">
                <div class="final-title" style="color: #44bd32;">ğŸ”¬ ×©×œ×‘ 4: ××ª×•×“×•×œ×•×’×™×” ×•×—×§×¨</div>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ×”×’×¢×ª× ×œ××—×“ ×”×©×œ×‘×™× ×”×›×™ ××¢× ×™×™× ×™× ×‘×¤×¨×•×™×§×˜ ×œ××´×“ â€“ ×©×œ×‘ ×”×—×§×¨. ×–×”×• ×”×©×œ×‘ ×©×‘×• ××ª× ××¤×¡×™×§×™× ×¨×§ "×œ×§×¨×•× ×¢×œ ×”× ×•×©×" - ×•××ª×—×™×œ×™× ×œ×—×§×•×¨ ××•×ª×• ×‘×¢×¦××›×.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ×›×“×™ ×œ×—×§×•×¨ ×¦×¨×™×š ×œ×ª×›× ×Ÿ ××¨××© ××ª ×©×™×˜×ª ×”×¢×‘×•×“×” ×•×“×¨×š ×”×¤×¢×•×œ×”. ×œ×–×” ×× ×• ×§×•×¨××™× "××ª×•×“×•×œ×•×’×™×”".
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ×‘×©×œ×‘ ×”×–×” ×ª×‘×—×¨×• ×›×œ×™ ×—×§×¨ (×›××• ×©××œ×•×Ÿ, ×¡×§×¨, ××• × ×™×ª×•×— ×˜×§×¡×˜×™× ×ª×§×©×•×¨×ª×™×™×) ×•×ª××¡×¤×• ××™×“×¢ ×©×™××¤×©×¨ ×œ×›× ×œ×‘×“×•×§ ××ª ×©××œ×ª ×”×—×§×¨ ×©×œ×›× ×‘×¦×•×¨×” ××¡×•×“×¨×ª.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ×ª×•×š ×›×“×™, ×ª×œ××“×• ××™×š ×©×•××œ×™× ×©××œ×•×ª × ×›×•× ×•×ª ×•××™×š ××¡×™×§×™× ××¡×§× ×•×ª ××ª×•×š ×”××™×“×¢ ×©××¡×¤×ª×.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">
                    ğŸ’¡ <strong>×”×—×§×¨ ×—×©×•×‘</strong> ×›×™ ×”×•× ×¢×•×–×¨ ×œ×›× ×œ×”×‘×™×Ÿ ×œ×¢×•××§ ××ª ×”×ª×•×¤×¢×” ×©×‘×—×¨×ª× - ×œ× ×¨×§ ×“×¨×š ××” ×©××—×¨×™× ×›×ª×‘×•, ××œ× ×“×¨×š ×”×¢×™× ×™×™× ×©×œ×›×.
                </p>
                <p style="color: #44bd32; font-weight: bold; line-height: 1.8;">
                    ×–×” ×©×œ×‘ ×©××—×‘×¨ ×‘×™×Ÿ ×”×©××œ×•×ª ×©×¢× ×™×™× ×• ××ª×›× ×œ×‘×™×Ÿ ×”×¢×•×œ× ×”×××™×ª×™. ×‘×”×¦×œ×—×”, ×× ×—× ×• ×¡×§×¨× ×™× ×œ×’×œ×•×ª ××” ×ª×’×œ×•! ğŸš€
                </p>
            </div>
            
            <h3 style="color: #44bd32; margin-top: 30px;">ğŸ§­ ×©××œ×ª ×—×§×¨</h3>
            <div style="background: #f0fff4; border: 2px solid #c6f6d5; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×©××œ×ª ×”×—×§×¨ ×”×™× ×”×©××œ×” ×”××¨×›×–×™×ª ×©×× ×—×” ××ª ×›×œ ×”××—×§×¨ ×©×œ×›×. ×–×•×”×™ ×œ× ×©××œ×” "×¨×’×™×œ×”" ×©×™×© ×œ×” ×ª×©×•×‘×” ××—×ª ×¤×©×•×˜×”, ××œ× ×©××œ×” ×¤×ª×•×—×”, ×¡×§×¨× ×™×ª ×•×××ª×’×¨×ª, ×”××‘×§×©×ª ×œ×‘×“×•×§ ×ª×•×¤×¢×”, ×§×©×¨ ××• ×”×©×¤×¢×” ×‘×¢×•×œ× ×”×ª×§×©×•×¨×ª.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×©××œ×ª ×”×—×§×¨ ×¦×¨×™×›×” ×œ×”×™×•×ª ×× ×•×¡×—×ª ×‘×¦×•×¨×” ×‘×¨×•×¨×”, ×§×©×•×¨×” ×œ× ×•×©× ×©×‘×—×¨×ª×, ×××¤×©×¨×ª ×œ×‘×“×•×§, ×œ××¡×•×£ ××™×“×¢, ×œ× ×ª×— ×•×œ×”×¡×™×§ ××¡×§× ×•×ª.
                </p>
                <p style="color: #44bd32; font-weight: bold; line-height: 1.8; margin: 0;">
                    ×©××œ×ª ×—×§×¨ ×”×™× ×›××• ××¦×¤×Ÿ ğŸ§­ - ×”×™× ××¨××” ×œ××Ÿ ×œ×œ×›×ª, ×•×›×œ ×©××¨ ×”×¢×‘×•×“×” × ×‘× ×™×ª ×¡×‘×™×‘×”.
                </p>
            </div>
            
            <div class="form-group">
                <label>×©××œ×ª ×”×—×§×¨ ×©×œ×™:</label>
                <textarea id="w4-research-question" rows="3" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”×—×§×¨ ×©×œ×›×..."></textarea>
            </div>
            
            <h3 style="color: #44bd32; margin-top: 30px;">ğŸ“‹ ×©×“×” ×”××—×§×¨</h3>
            <div style="background: #f0fff4; border: 2px solid #c6f6d5; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin: 0;">
                    ×›×¢×ª, ×›×ª×‘×• ×¤×¡×§×” ×‘×¨×•×¨×” ×©×‘×” ×ª×ª××¨×• ××ª ×©×“×” ×”××—×§×¨ ×©×œ×›× â€“ ×›×œ×•××¨, ××”× ×§×˜×¢×™ ×”×ª×§×©×•×¨×ª ×©×ª×‘×—×¨×• ×œ×—×§×•×¨ ×•×©×¢×œ×™×”× "×ª×¤×¢×™×œ×•" ××ª ×©××œ×ª ×”×—×§×¨ ×©×œ×›× - ××” ×××¤×™×™×Ÿ ××•×ª×, ××“×•×¢ ×‘×—×¨×ª× ×“×•×•×§× ×‘×”×, ×•××™×š ×”× ×§×©×•×¨×™× ×œ× ×•×©× ×”×¤×¨×•×™×§×˜ ×©×œ×›×.
                </p>
                <p style="color: #666; line-height: 1.8; margin-top: 10px; margin-bottom: 0;">
                    <strong>(×©×™××• ×œ×‘:</strong> ×‘×©×œ×‘ ×–×” ××™×Ÿ ×¦×•×¨×š ×œ× ×ª×— ××ª ×”×˜×§×¡×˜×™× ×•×œ×—×•×•×ª ×¢×œ×™×”× ×“×¢×”. ×–×” ×™×§×¨×” ×‘×©×œ×‘ ×”×—×§×¨ ×¢×¦××•)
                </p>
            </div>
            
            <div class="form-group">
                <label>×©×“×” ×”××—×§×¨ ×©×œ×™:</label>
                <textarea id="w4-research-field" rows="5" placeholder="×ª××¨×• ××ª ×§×˜×¢×™ ×”×ª×§×©×•×¨×ª ×©×ª×—×§×¨×•..."></textarea>
            </div>
            
            <h3 style="color: #44bd32; margin-top: 40px;">â“ ×©××œ×•×ª ××¡×¨×§</h3>
            <div style="background: #f0fff4; border: 2px solid #c6f6d5; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×œ××—×¨ ×©×’×™×‘×©×ª× ××ª ×©××œ×ª ×”×—×§×¨ ×©×œ×›×, ×¢×œ×™×›× "×œ×¤×¨×§" ××•×ª×” ×œ×©××œ×•×ª ××¡×¨×§ - ×›×œ×•××¨, ×©××œ×•×ª ××©× ×” ×©×™×¢×–×¨×• ×œ×›× ×œ×‘×—×•×Ÿ ××ª ×”× ×•×©× ×œ×¢×•××§ ×•×‘××•×¤×Ÿ ××“×•×™×§.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×”×©××œ×•×ª ×¦×¨×™×›×•×ª ×œ×”×™×•×ª ×‘×¨×•×¨×•×ª, ×•× ×™×ª× ×•×ª ×œ×‘×“×™×§×”. ×©×™××• ×œ×‘ - ×©××œ×•×ª ×©×‘×•×—× ×•×ª ×”×©×¤×¢×” ×¢×œ×•×œ×•×ª ×œ× ×œ×”×ª××™×. ×‘××§×•× ×–××ª, × ×¡×—×• ×©××œ×•×ª ×©×‘×•×“×§×•×ª ×™×™×¦×•×’, ××¡×¨×™×, ××¡×’×•×¨ ×•×›×“×•××”, ×›×œ×•××¨ - ×›×œ ××” ×©× ×™×ª×Ÿ ×œ× ×ª×— ×•×œ×”×¡×™×§ ××ª×•×š ×”×˜×§×¡×˜×™× ×”×ª×§×©×•×¨×ª×™×™× ×©×ª×‘×—×¨×•.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×œ×›×œ ×©××œ×ª ××¡×¨×§ ×©×ª×›×ª×‘×•, ×”×•×¡×™×¤×• × ×™××•×§ ×§×¦×¨ - ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×•? ××” ×”×™× ×‘×•×“×§×ª, ××™×œ×• ×××¦××™× ××ª× ××¦×¤×™× ×œ××¦×•× ×“×¨×›×”? ×•××™×š ×”×™× ×ª×ª×¨×•× ×œ××¡×§× ×•×ª ×©×ª×•×›×œ×• ×œ×”×¡×™×§ ××©×œ×‘ ×”×—×§×¨.
                </p>
                <p style="color: #44bd32; font-weight: bold; line-height: 1.8; margin: 0;">
                    × ×™××•×§ ×‘×¨×•×¨ ×™×¢×–×•×¨ ×œ×›× ×œ×›×•×•×Ÿ ××ª ×”×—×§×¨ ×•×œ×”×¨××•×ª ×—×©×™×‘×” ×‘×™×§×•×¨×ª×™×ª. ×”×’×™×¢ ×”×–××Ÿ ×œ×”×ª×—×™×œ! ×›××Ÿ ×ª×›×ª×‘×• ××ª ×©××œ×•×ª ×”××¡×¨×§ ×©×™×‘× ×• ××ª ×”×—×§×¨ ×©×œ×›×:
                </p>
            </div>
            
            <div id="comb-questions-container">

                <h4 style="color: #44bd32; margin-top: 25px; background: #f0fff4; padding: 15px; border-radius: 10px;">â“ ×©××œ×ª ××¡×¨×§ 1</h4>
                
                <div class="form-group">
                    <label>×©××œ×ª ××¡×¨×§ 1:</label>
                    <textarea id="w4-comb-q1" rows="2" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”××¡×¨×§..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>× ×™××•×§ ×œ×‘×—×™×¨×ª ×©××œ×ª ××¡×¨×§ ×–×•:</label>
                    <textarea id="w4-comb-reason1" rows="3" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×• ×•××” ×”×™× ×‘×•×“×§×ª..."></textarea>
                </div>

                <h4 style="color: #44bd32; margin-top: 25px; background: #f0fff4; padding: 15px; border-radius: 10px;">â“ ×©××œ×ª ××¡×¨×§ 2</h4>
                
                <div class="form-group">
                    <label>×©××œ×ª ××¡×¨×§ 2:</label>
                    <textarea id="w4-comb-q2" rows="2" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”××¡×¨×§..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>× ×™××•×§ ×œ×‘×—×™×¨×ª ×©××œ×ª ××¡×¨×§ ×–×•:</label>
                    <textarea id="w4-comb-reason2" rows="3" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×• ×•××” ×”×™× ×‘×•×“×§×ª..."></textarea>
                </div>

                <h4 style="color: #44bd32; margin-top: 25px; background: #f0fff4; padding: 15px; border-radius: 10px;">â“ ×©××œ×ª ××¡×¨×§ 3</h4>
                
                <div class="form-group">
                    <label>×©××œ×ª ××¡×¨×§ 3:</label>
                    <textarea id="w4-comb-q3" rows="2" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”××¡×¨×§..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>× ×™××•×§ ×œ×‘×—×™×¨×ª ×©××œ×ª ××¡×¨×§ ×–×•:</label>
                    <textarea id="w4-comb-reason3" rows="3" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×• ×•××” ×”×™× ×‘×•×“×§×ª..."></textarea>
                </div>

                <h4 style="color: #44bd32; margin-top: 25px; background: #f0fff4; padding: 15px; border-radius: 10px;">â“ ×©××œ×ª ××¡×¨×§ 4</h4>
                
                <div class="form-group">
                    <label>×©××œ×ª ××¡×¨×§ 4:</label>
                    <textarea id="w4-comb-q4" rows="2" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”××¡×¨×§..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>× ×™××•×§ ×œ×‘×—×™×¨×ª ×©××œ×ª ××¡×¨×§ ×–×•:</label>
                    <textarea id="w4-comb-reason4" rows="3" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×• ×•××” ×”×™× ×‘×•×“×§×ª..."></textarea>
                </div>

                <h4 style="color: #44bd32; margin-top: 25px; background: #f0fff4; padding: 15px; border-radius: 10px;">â“ ×©××œ×ª ××¡×¨×§ 5</h4>
                
                <div class="form-group">
                    <label>×©××œ×ª ××¡×¨×§ 5:</label>
                    <textarea id="w4-comb-q5" rows="2" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”××¡×¨×§..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>× ×™××•×§ ×œ×‘×—×™×¨×ª ×©××œ×ª ××¡×¨×§ ×–×•:</label>
                    <textarea id="w4-comb-reason5" rows="3" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×• ×•××” ×”×™× ×‘×•×“×§×ª..."></textarea>
                </div>

                <h4 style="color: #44bd32; margin-top: 25px; background: #f0fff4; padding: 15px; border-radius: 10px;">â“ ×©××œ×ª ××¡×¨×§ 6</h4>
                
                <div class="form-group">
                    <label>×©××œ×ª ××¡×¨×§ 6:</label>
                    <textarea id="w4-comb-q6" rows="2" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”××¡×¨×§..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>× ×™××•×§ ×œ×‘×—×™×¨×ª ×©××œ×ª ××¡×¨×§ ×–×•:</label>
                    <textarea id="w4-comb-reason6" rows="3" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×• ×•××” ×”×™× ×‘×•×“×§×ª..."></textarea>
                </div>

            </div>
            
            <div style="text-align: center; margin: 30px 0;">
                <button onclick="addCombQuestion()" style="background: #44bd32; color: white; border: none; padding: 12px 30px; border-radius: 25px; font-size: 1rem; font-weight: bold; cursor: pointer; box-shadow: 0 4px 12px rgba(68, 189, 50, 0.3);">
                    â• ×”×•×¡×£ ×©××œ×ª ××¡×¨×§ × ×•×¡×¤×ª
                </button>
            </div>
            
            <h3 style="color: #44bd32; margin-top: 40px;">ğŸ”¬ ×‘×™×¦×•×¢ ×”×—×§×¨</h3>
            <div style="background: #f0fff4; border: 2px solid #c6f6d5; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #44bd32; font-weight: bold; font-size: 1.1rem; margin-bottom: 15px;">
                    ×¡×•×£ ×¡×•×£ - ×©×œ×‘ ×‘×™×¦×•×¢ ×”×—×§×¨ - ×™×•×¦××™× ×œ×“×¨×š!
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    <strong>××”×• ×‘×¢×¦× "×—×§×¨"?</strong>
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×—×§×¨ ×”×•× ×ª×”×œ×™×š ×©×‘×• ×× ×• ××ª×‘×•× × ×™× ×‘××•×¤×Ÿ ×©×™×˜×ª×™ ×‘×˜×§×¡×˜×™× ××• ×‘×ª×•×¤×¢×•×ª ×ª×§×©×•×¨×ª×™×•×ª â€“ ×›×“×™ ×œ×’×œ×•×ª, ×œ×–×”×•×ª, ×œ×”×‘×™×Ÿ ×•×œ×ª××¨ ××” ×‘×××ª ×§×™×™× ×‘×”×.
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×”×—×§×¨ ×××¤×©×¨ ×œ× ×• ×œ×‘×—×•×Ÿ ×œ×¢×•××§ ×ª×›× ×™×, ××¡×¨×™×, ×“×¤×•×¡×™× ×•×“×¨×›×™ ×™×™×¦×•×’ â€“ ×‘×”×ª×‘×¡×¡ ×¢×œ ×¢×•×‘×“×•×ª ×•×œ× ×¢×œ ×ª×—×•×©×•×ª ××• ×“×¢×•×ª.
                </p>
                <p style="color: #666; line-height: 1.8; margin: 0;">
                    ×‘××•×‘×Ÿ ×”×–×”, ×—×§×¨ ×“×•××” ×œ×¢×‘×•×“×” ×©×œ ×—×•×§×¨ ×‘×©×˜×—: ×”×•× ×œ× ××ª×—×™×œ ×××” ×©×”×•× ×—×•×©×‘ ××• ××¨×’×™×© â€“ ××œ× ××ª×‘×•× ×Ÿ, ×‘×•×“×§, ×©×•××œ ×©××œ×•×ª, ××•×¡×£ ×××¦××™× ×•××ª××¨ ××ª ×”××¦×™××•×ª ×‘×¦×•×¨×” ××“×•×™×§×ª.
                </p>
            </div>
            
            <div style="background: #fffbe6; border: 2px solid #ffd93d; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #b7791f; font-weight: bold; font-size: 1.1rem; margin-bottom: 10px;">
                    ğŸ§­ ××– ×œ××” ×‘×¢×¦× ×—×•×§×¨×™×?
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×›×™ ×›×“×™ ×œ×”×‘×™×Ÿ ×ª×•×¤×¢×” ×ª×§×©×•×¨×ª×™×ª ×œ×¢×•××§, ×× ×—× ×• ×¦×¨×™×›×™× ×œ×”×¡×ª××š ×¢×œ × ×ª×•× ×™× ×•×œ× ×¨×§ ×¢×œ ××” ×©× ×¨××” ×œ× ×•.
                </p>
                <p style="color: #666; line-height: 1.8; margin: 0;">
                    ×—×§×¨ ×××¤×©×¨ ×œ× ×• ×œ×”×¤×¢×™×œ ×—×©×™×‘×” ×‘×™×§×•×¨×ª×™×ª, ×œ×‘×“×•×§ ×”× ×—×•×ª, ×œ×–×”×•×ª ×“×¤×•×¡×™× ×—×•×–×¨×™× ××• ×™×•×¦××™ ×“×•×¤×Ÿ, ×•×’× ×œ×’×œ×•×ª ×“×‘×¨×™× ×—×“×©×™× ×©×œ× ×©×× ×• ×œ×‘ ××œ×™×”× ×§×•×“×.
                </p>
            </div>
            
            <div style="background: #e6f7ff; border: 2px solid #91d5ff; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #0050b3; font-weight: bold; margin-bottom: 10px;">
                    ğŸ“ ××” ×¢×œ×™×›× ×œ×¢×©×•×ª ×‘×©×œ×‘ ×–×”?
                </p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">
                    ×›×¢×ª, ×”×’×™×¢ ×”×–××Ÿ ×œ×¢×‘×•×¨ ×œ×œ×‘ ×”×¢×‘×•×“×” - ×‘×™×¦×•×¢ ×”×—×§×¨ ×¢×¦××•. ×‘×©×œ×‘ ×”×–×” ×ª× ×ª×—×• ××ª ×”×˜×§×¡×˜×™× ×”×ª×§×©×•×¨×ª×™×™× ×©×‘×—×¨×ª× ×‘××•×¤×Ÿ ×™×¡×•×“×™ ×•××“×•×™×§, ×œ×¤×™ ×©××œ×•×ª ×”××¡×¨×§.
                </p>
                <p style="color: #0050b3; font-weight: bold; line-height: 1.8; margin: 0;">
                    ×©×™××• ×œ×‘ â€“ ×©×œ×‘ ×–×” ×”×•× ××•×‘×™×™×§×˜×™×‘×™! ×‘×©×œ×‘ ×”×—×§×¨ ××™×Ÿ ××§×•× ×œ×“×¢×” ××™×©×™×ª ××• ×¤×¨×©× ×•×ª. ×¢×œ×™×›× ×œ×ª××¨ ××ª ××” ×©××•×¤×™×¢ ×‘×¤×•×¢×œ ×‘×˜×§×¡×˜×™× ×‘××•×¤×Ÿ ×ª×™××•×¨×™, ×¢×•×‘×“×ª×™, ×œ×œ× ×©×™×¤×•×˜. ××ª ×”××¡×§× ×•×ª, ×”×ª×—×•×©×•×ª ×•×”× ×™×ª×•×— ×”×¤×¨×©× ×™ ×©×œ×›× ×ª×¦×™×’×• ×‘×©×œ×‘ ×”×‘×.
                </p>
            </div>
            
            <div style="background: #fff7e6; border: 2px solid #ffd666; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #ad6800; line-height: 1.8; margin-bottom: 10px;">
                    ×›×“×™ ×œ×”×§×œ ×¢×œ×™×›× ×œ×¡×“×¨ ×•×œ× ×ª×— ××ª ×”××™×“×¢, ××•××œ×¥ ×œ×”×¦×™×’ ××ª ×©×œ×‘ ×”×—×§×¨ ×‘×˜×‘×œ×” ××¡×•×“×¨×ª. ×‘×˜×‘×œ×” ×ª×¦×™×’×• ××ª ×©××œ×•×ª ×”××¡×¨×§ ×•××ª ×”×“×•×’×××•×ª ×•×”×××¦××™× ×©××¦××ª× ×‘×˜×§×¡×˜×™× ×”×ª×§×©×•×¨×ª×™×™× ×©×‘×—×¨×ª×.
                </p>
                <p style="color: #ad6800; font-weight: bold; line-height: 1.8; margin: 0;">
                    × ×™×ª×Ÿ ×œ×”×›×™×Ÿ ××ª ×”×˜×‘×œ×” ×‘×§×•×‘×¥ ×—×™×¦×•× ×™ (Google Docs / Sheets) ×•×œ×”×•×¡×™×£ ×§×™×©×•×¨ ×™×©×™×¨ ××œ×™×” ×›××Ÿ:
                </p>
            </div>
            
            <div class="form-group">
                <label>×§×™×©×•×¨ ×œ×˜×‘×œ×ª ×”×—×§×¨ ×©×œ×™:</label>
                <input type="text" id="w4-research-table-link" placeholder="×”×“×‘×™×§×• ×›××Ÿ ×§×™×©×•×¨ ×œ×˜×‘×œ×ª ×”×—×§×¨" class="allow-paste">
            </div>
            
            <h3 style="color: #44bd32; margin-top: 40px;">ğŸ“Š ×”×¦×’×ª ×××¦××™ ×”×—×§×¨</h3>
            <div style="background: #f0fff4; border: 2px solid #c6f6d5; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin: 0;">
                    ×‘×©×œ×‘ ×–×” ×¢×œ×™×›× ×œ×”×¦×™×’ ××ª ××” ×©××¦××ª× ×‘××”×œ×š ×”×—×§×¨ ×‘×¦×•×¨×” ×¢× ×™×™× ×™×ª, ××¡×•×“×¨×ª ×•××•×‘×™×™×§×˜×™×‘×™×ª, ×œ×œ× ×¤×¨×©× ×•×ª ×•×”×¡×‘×¨×™×. ×”××˜×¨×” ×›××Ÿ ×”×™× ×œ×”×¦×™×’ ××ª ×”×ª××•× ×” ×›×¤×™ ×©×”×™× ×¢×•×œ×” ××”× ×ª×•× ×™×: ××” ×¨××™×ª×? ××™×–×” ×ª×›× ×™× ×—×–×¨×• ×¢×œ ×¢×¦××? ××™×œ×• ×“×¤×•×¡×™× ×–×™×”×™×ª×?
                </p>
            </div>
            
            <div class="form-group">
                <label>×××¦××™ ×”×—×§×¨ ×©×œ×™:</label>
                <textarea id="w4-findings" rows="8" placeholder="×”×¦×™×’×• ××ª ×”×××¦××™× ×‘×¦×•×¨×” ×¢×•×‘×“×ª×™×ª ×•××¡×•×“×¨×ª..."></textarea>
            </div>
            
            <div style="background: linear-gradient(135deg, #00b894, #00cec9); color: white; padding: 20px; border-radius: 15px; text-align: center; margin-top: 30px;">
                <p style="font-size: 1.1rem; margin: 0; line-height: 1.8;">
                    âœ… ×¡×™×™××ª× ××ª ×©×œ×‘ ×”×—×§×¨ ×•××›××Ÿ × ××©×™×š ×œ×©×œ×‘ ×”×‘× - ×œ×—×©×•×‘ ×¢×œ ×”××©××¢×•×™×•×ª ×•×”×“×™×œ××•×ª ×©×”××—×§×¨ ×©×œ×›× ××¦×™×£.
                </p>
            </div>
            
            <div class="nav-internal">
                <button class="btn-next-step" onclick="switchStep('w5')">×©×œ×‘ ×”×‘× â†</button>
                <button class="btn-prev" onclick="switchStep('w3')">â†’ ×—×–×¨×”</button>
            </div>
        </div>

        <!-- ×©×œ×‘ 5: ×¡×™×›×•× ×•×“×™×•×Ÿ ×‘×“×™×œ××•×ª -->
        <div id="w5" class="project-section">
            <div style="text-align: center; margin-bottom: 30px;">
                <img 
            
            <div class="final-box" style="background: linear-gradient(to left, #ffe5e5, white); border-right-color: #e84118;">
                <div class="final-title" style="color: #c23616;">âœ… ×©×œ×‘ 5: ×¡×™×›×•× ×•×“×™×•×Ÿ ×‘×“×™×œ××•×ª</div>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">×”×’×¢×ª× ×œ×—×œ×§ ×”××—×¨×•×Ÿ ×©×œ ××¡×¢ ×”×—×§×¨.</p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">×›××Ÿ ×× ×—× ×• ×¢×•×¦×¨×™× ×œ×¨×’×¢, ××ª×‘×•× × ×™× ×¢×œ ×›×œ ××” ×©×’×™×œ×™× ×•, ×•×©×•××œ×™× ××ª ×¢×¦×× ×•: ××” ×–×” ××•××¨? ××” ×œ××“× ×• ×•×œ××” ×–×” ×—×©×•×‘?</p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 15px;">×œ× ××¡×¤×™×§ ×œ××¡×•×£ ×××¦××™× - ×¦×¨×™×š ×’× ×œ×”×‘×™×Ÿ ××•×ª×: ×œ×”×‘×™×Ÿ ××” ×”× ××•××¨×™× ×¢×œ ×”×—×‘×¨×” ×©×‘×” ×× ×• ×—×™×™×, ×¢×œ ×¢×•×œ× ×”×ª×§×©×•×¨×ª, ×¢×œ ×ª×¤×§×™×“× ×©×œ ×× ×©×™ ×ª×§×©×•×¨×ª, ×•×¢×œ ×¢×¦×× ×• ×›×¦×¨×›× ×™ ×ª×§×©×•×¨×ª ×•××–×¨×—×™× ×‘××“×™× ×” ×“××•×§×¨×˜×™×ª.</p>
                <p style="color: #c23616; font-weight: bold; line-height: 1.8;">×©×œ×‘ ×”×¡×™×›×•× ×•×”×“×™×•×Ÿ ×”×•× ×”××§×•× ×©×‘×• ×”×—×§×¨ ×™×”×¤×•×š ×œ×ª×•×‘× ×•×ª ×©×™×•×‘×™×œ×• ××•×ª× ×• ××œ ×”×œ×‘ ×”×¤×•×¢× ×©×œ ×”×¢×‘×•×“×” - ×”×“×™×œ××•×ª. ×¨×’×¢×™ ×”×”×ª×œ×‘×˜×•×ª ×•×”×§×•× ×¤×œ×™×§×˜ ×©×‘×”× ×”× ×ª×•× ×™× ×•×”×ª×•×‘× ×•×ª ×©×¢×œ×• ××Ÿ ×”×—×§×¨ ×™×¤×’×©×• ××ª ×”××—×©×‘×” ×”×¢×¨×›×™×ª ×•×”××™×©×™×ª ×©×œ×›×. ×›××• ×‘×›×œ ×—×œ×§×™ ×”×¢×‘×•×“×”, ×’× ×›××Ÿ × ×œ×•×•×” ××ª×›× ×¦×¢×“ ××—×¨ ×¦×¢×“ ×¢×“ ×œ×’×™×‘×•×© ×”×¡×•×¤×™ ×©×œ ×”×“×™×œ××•×ª. ğŸš€</p>
            </div>
            
            <h3 style="color: #c23616; margin-top: 40px;">ğŸ“ ×¡×™×›×•× ×•××¡×§× ×•×ª</h3>
            <div style="background: #fff5f5; border: 2px solid #ffcdd2; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">×›×¢×ª, ×¢×œ×™×›× ×œ×”×ª×‘×•× ×Ÿ ×‘×××¦××™× ×©××¡×¤×ª× ×•×œ× ×¡×•×ª ×œ×”×¡×‘×™×¨ - ×¢×œ ××” ×”× ××œ××“×™× ×•××” ××¤×©×¨ ×œ×”×‘×™×Ÿ ××”×?</p>
                <p style="color: #c23616; font-weight: bold; line-height: 1.8; margin: 0;">×—×©×‘×• ×¢×œ ×©×œ×•×© ×©××œ×•×ª ×× ×—×•×ª:</p>
            </div>
            
            <div class="form-group">
                <label>××” ×‘×“×§×ª×™? ×”×–×›×™×¨×• ×‘×§×¦×¨×” ××ª × ×•×©× ×”××—×§×¨ ×•×©××œ×ª ×”×—×§×¨ ×©×‘×™×§×©×ª× ×œ×‘×¨×¨:</label>
                <textarea id="w5-what-checked" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>××” ××¦××ª×™? ×”×¦×™×’×• ×‘×§×¦×¨×” ××ª ×”×××¦××™× ×”×¢×™×§×¨×™×™× ×©×¢×œ×• ××ª×•×š ×”× ×™×ª×•×— ×©×œ×›× - ××” ×’×™×œ×™×ª×? ××™×œ×• ×ª×‘× ×™×•×ª ×—×–×¨×• ×¢×œ ×¢×¦××Ÿ? ××” ×”×™×” ××¤×ª×™×¢?</label>
                <textarea id="w5-what-found" rows="5"></textarea>
            </div>
            <div class="form-group">
                <label>××” ×“×¢×ª×™ ×¢×œ ××” ×©××¦××ª×™? ×›××Ÿ ×ª× ×¡×• ×œ×¤×¨×© ××ª ×”×××¦××™× ×•×œ×”×¡×‘×™×¨ ××”×™ ×œ×“×¢×ª×›× ×”××©××¢×•×ª ×©×œ×”× - ××” ×–×” ××•××¨ ×¢×œ ×”× ×•×©× ×©×‘×—×¨×ª× ×œ×—×§×•×¨? ×”×× ×¦×™×¤×™×ª× ×œ×ª×•×¦××” ×”×–×•? - ×›×Ÿ/×œ× ××“×•×¢?, ×”×× ×”×××¦××™× ××¢×•×¨×¨×™× ××¦×œ×›× ××—×©×‘×” ×›×œ×©×”×™ ××• ×‘×™×§×•×¨×ª?</label>
                <textarea id="w5-my-opinion" rows="6"></textarea>
            </div>
            <div style="background: #e8f5e9; border: 2px solid #a5d6a7; border-radius: 12px; padding: 20px; margin: 25px 0;">
                <p style="color: #2e7d32; line-height: 1.8; margin: 0;"><strong>×–×•×”×™ ×’× ×”×”×–×“×× ×•×ª</strong> ×œ×‘×“×•×§ ×•×œ×”×“×’×™× ××™×–×” ××‘×™×Ÿ ×”××•×©×’×™× ×‘×¤×¨×§ ×”×ª×™××•×¨×˜×™ ×‘× ×œ×™×“×™ ×‘×™×˜×•×™ ×‘×××¦××™× ×©×œ×›×, ×•×”×× ××” ×©×’×™×œ×™×ª× ×ª×•×× ×œ××” ×©×§×¨××ª× ×•×œ××“×ª× ××”××××¨×™×.</p>
            </div>
            <div class="form-group">
                <label>×§×©×¨ ×‘×™×Ÿ ×”×××¦××™× ×œ××•×©×’×™× ×•××××¨×™×:</label>
                <textarea id="w5-concepts-connection" rows="4"></textarea>
            </div>
            
            <h3 style="color: #c23616; margin-top: 40px;">ğŸ“ ××•×¨×™×™× ×•×ª ×ª×§×©×•×¨×ª×™×ª ×•××•×¨×™×™× ×•×ª ××–×¨×—×™×ª</h3>
            <div style="background: #fff5f5; border: 2px solid #ffcdd2; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;"><strong>××•×¨×™×™× ×•×ª ×ª×§×©×•×¨×ª×™×ª</strong> ×”×™× ×”×™×›×•×œ×ª ×œ×”×‘×™×Ÿ ××™×š ×”×ª×§×©×•×¨×ª ×¢×•×‘×“×ª - ×œ×–×”×•×ª ××¡×¨×™× ×’×œ×•×™× ×•×¡××•×™×™×, ×œ×—×©×•×‘ ××™ ×™×¦×¨ ××ª ×”×ª×•×›×Ÿ ×•×œ××”, ×•×œ×”×™×•×ª ×¦×¨×›× ×™ ×ª×§×©×•×¨×ª ×‘×™×§×•×¨×ª×™×™× ×•×œ× ×¤××¡×™×‘×™×™×.</p>
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;"><strong>××•×¨×™×™× ×•×ª ××–×¨×—×™×ª</strong> ×”×™× ×”×™×›×•×œ×ª ×œ×”×‘×™×Ÿ ××” ×§×•×¨×” ×‘×—×‘×¨×” ×©×¡×‘×™×‘× ×•, ×œ×—×©×•×‘ ×¢×œ ×›×š ×‘××•×¤×Ÿ ×‘×™×§×•×¨×ª×™, ×•×œ×”×©×¤×™×¢.</p>
                <p style="color: #d32f2f; font-weight: bold; line-height: 1.8; margin: 0; background: #ffebee; padding: 10px; border-radius: 8px;">âš ï¸ ×”×¢×¨×” ×—×©×•×‘×”: ×”××•×¨×™×™× ×•×™×•×ª ×¦×¨×™×›×•×ª ×œ× ×‘×•×¢ ××ª×•×š × ×•×©× ×”×—×§×¨. ××œ ×ª×›×ª×‘×• ××©×¤×˜×™× ×›×œ×œ×™×™×.</p>
            </div>
            <div class="form-group">
                <label>××•×¨×™×™× ×•×ª ×ª×§×©×•×¨×ª×™×ª - ××” ×œ××“×ª× ×¢×œ ×”××•×¤×Ÿ ×©×‘×• ×”×ª×§×©×•×¨×ª ×¤×•×¢×œ×ª ×‘×”×ª×™×™×—×¡ ×œ× ×•×©× ××•×ª×• ×—×§×¨×ª×?</label>
                <textarea id="w5-media-literacy" rows="6"></textarea>
            </div>
            <div class="form-group">
                <label>××•×¨×™×™× ×•×ª ××–×¨×—×™×ª - ××” ×’×™×œ×™×ª× ×¢×œ ×”×—×‘×¨×” ×©×‘×” ××ª× ×—×™×™×? ××™×œ×• ×¢×¨×›×™× ×¢×œ×• ×œ×“×™×•×Ÿ?</label>
                <textarea id="w5-civic-literacy" rows="6"></textarea>
            </div>

            <h3 style="color: #c23616; margin-top: 50px; font-size: 1.8rem;">ğŸ­ ×“×™×•×Ÿ ×‘×“×™×œ××•×ª</h3>
            <div style="background: #fff5f5; border: 2px solid #ffcdd2; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                <p style="color: #666; line-height: 1.8; margin-bottom: 10px;">×‘×©×œ×‘ ×–×” ×ª×¢×¡×§×• ×‘×“×™×œ××•×ª - ××¦×‘×™× ××•×¨×›×‘×™× ×©×‘×”× ××™×Ÿ ×ª×©×•×‘×” ××—×ª × ×›×•× ×”, ××œ× ×”×ª×œ×‘×˜×•×ª ×‘×™×Ÿ ×©×ª×™ ××¤×©×¨×•×™×•×ª.</p>
                <p style="color: #c23616; font-weight: bold; line-height: 1.8; margin: 0;">×”×“×™×œ××•×ª ×¦×¨×™×›×•×ª ×œ× ×‘×•×¢ ××ª×•×š ×”×—×§×¨ ×©×¢×©×™×ª×.</p>
            </div>
            
            <h4 style="color: #c23616; margin-top: 40px; background: #fff5f5; padding: 20px; border-radius: 15px; border-right: 6px solid #e84118;">ğŸ‘¤ ×”×“×™×œ××” ×”××™×©×™×ª</h4>
            <div style="background: #fff5f5; border: 2px solid #ffcdd2; border-radius: 12px; padding: 20px; margin: 20px 0;">
                <p style="color: #666; line-height: 1.8;">×”×“×™×œ××” ×”××™×©×™×ª ××©×§×¤×ª ××ª ×”××§×•× ×©×‘×• ×”× ×•×©× × ×•×’×¢ ×œ×›× ×‘×××ª - ××¨×’×™×©×™× ×¦×•×¨×š ×œ×”×›×¨×™×¢ ×‘×™×Ÿ ×©×ª×™ ××¤×©×¨×•×™×•×ª.</p>
            </div>
            <div class="form-group">
                <label>×”×“×™×œ××” ×”××™×©×™×ª ×©×œ×™:</label>
                <textarea id="w5-personal-dilemma" rows="5"></textarea>
            </div>
            <h5 style="color: #c23616; margin-top: 25px;">×©×ª×™ ×“×¨×›×™× ××¤×©×¨×™×•×ª:</h5>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div class="form-group">
                    <label>×“×¨×š 1:</label>
                    <textarea id="w5-personal-way1" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>×“×¨×š 2:</label>
                    <textarea id="w5-personal-way2" rows="3"></textarea>
                </div>
            </div>
            <h5 style="color: #c23616; margin-top: 25px; background: #ffe5e5; padding: 15px; border-radius: 10px;">ğŸ“Š × ×™×ª×•×— ×“×¨×š 1</h5>
            <div class="form-group">
                <label>×ª×™××•×¨ ××¤×•×¨×˜ ×©×œ ×“×¨×š 1:</label>
                <textarea id="w5-personal-way1-full" rows="2"></textarea>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px;">
                <div class="form-group" style="background: #e8f5e9; padding: 15px; border-radius: 10px;">
                    <label style="color: #2e7d32;"><strong>âœ… ×”×¨×•×•×—×™× ××“×¨×š 1:</strong></label>
                    <textarea id="w5-personal-way1-gains" rows="5"></textarea>
                </div>
                <div class="form-group" style="background: #ffebee; padding: 15px; border-radius: 10px;">
                    <label style="color: #c62828;"><strong>âŒ ×”××—×™×¨×™× ××“×¨×š 1:</strong></label>
                    <textarea id="w5-personal-way1-costs" rows="5"></textarea>
                </div>
            </div>
            <h5 style="color: #c23616; margin-top: 25px; background: #ffe5e5; padding: 15px; border-radius: 10px;">ğŸ“Š × ×™×ª×•×— ×“×¨×š 2</h5>
            <div class="form-group">
                <label>×ª×™××•×¨ ××¤×•×¨×˜ ×©×œ ×“×¨×š 2:</label>
                <textarea id="w5-personal-way2-full" rows="2"></textarea>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px;">
                <div class="form-group" style="background: #e8f5e9; padding: 15px; border-radius: 10px;">
                    <label style="color: #2e7d32;"><strong>âœ… ×”×¨×•×•×—×™× ××“×¨×š 2:</strong></label>
                    <textarea id="w5-personal-way2-gains" rows="5"></textarea>
                </div>
                <div class="form-group" style="background: #ffebee; padding: 15px; border-radius: 10px;">
                    <label style="color: #c62828;"><strong>âŒ ×”××—×™×¨×™× ××“×¨×š 2:</strong></label>
                    <textarea id="w5-personal-way2-costs" rows="5"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label>âš–ï¸ ×”×”×›×¨×¢×” ×©×œ×™: ××“×•×¢ ×‘×—×¨×ª× ×“×•×•×§× ×‘×“×¨×š ×–×•?</label>
                <textarea id="w5-personal-decision" rows="6"></textarea>
            </div>
            <div class="form-group">
                <label>ğŸ’¡ ×”×¤×ª×¨×•×Ÿ ×©×œ×™ ×œ×“×™×œ××” ×”××™×©×™×ª:</label>
                <textarea id="w5-personal-solution" rows="6"></textarea>
            </div>
            
            <div style="height: 3px; background: linear-gradient(90deg, #e84118, #c23616, #e84118); border-radius: 10px; margin: 50px 0;"></div>

            <h4 style="color: #c23616; margin-top: 40px; background: #fff5f5; padding: 20px; border-radius: 15px; border-right: 6px solid #e84118;">ğŸ‘” ×”×“×™×œ××” ×”××§×¦×•×¢×™×ª</h4>
            <div style="background: #fff5f5; border: 2px solid #ffcdd2; border-radius: 12px; padding: 20px; margin: 20px 0;">
                <p style="color: #666; line-height: 1.8;">×“×™×œ××” ×©×—×•×•×” ××™×© ×ª×§×©×•×¨×ª (×¢×™×ª×•× ××™/×ª, ×¢×•×¨×š/×ª, ×¤×¨×¡×•×××™/×ª, ×™×•×¦×¨/×ª ×ª×•×›×Ÿ ×•×›×•').</p>
            </div>
            <div class="form-group">
                <label>×”×“×™×œ××” ×”××§×¦×•×¢×™×ª ×©×œ×™:</label>
                <textarea id="w5-professional-dilemma" rows="5"></textarea>
            </div>
            <h5 style="color: #c23616; margin-top: 25px;">×©×ª×™ ×“×¨×›×™× ××¤×©×¨×™×•×ª:</h5>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                <div class="form-group">
                    <label>×“×¨×š 1:</label>
                    <textarea id="w5-professional-way1" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>×“×¨×š 2:</label>
                    <textarea id="w5-professional-way2" rows="3"></textarea>
                </div>
            </div>
            <h5 style="color: #c23616; margin-top: 25px; background: #ffe5e5; padding: 15px; border-radius: 10px;">ğŸ“Š × ×™×ª×•×— ×“×¨×š 1</h5>
            <div class="form-group">
                <label>×ª×™××•×¨ ××¤×•×¨×˜ ×©×œ ×“×¨×š 1:</label>
                <textarea id="w5-professional-way1-full" rows="2"></textarea>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px;">
                <div class="form-group" style="background: #e8f5e9; padding: 15px; border-radius: 10px;">
                    <label style="color: #2e7d32;"><strong>âœ… ×”×¨×•×•×—×™× ××“×¨×š 1:</strong></label>
                    <textarea id="w5-professional-way1-gains" rows="5"></textarea>
                </div>
                <div class="form-group" style="background: #ffebee; padding: 15px; border-radius: 10px;">
                    <label style="color: #c62828;"><strong>âŒ ×”××—×™×¨×™× ××“×¨×š 1:</strong></label>
                    <textarea id="w5-professional-way1-costs" rows="5"></textarea>
                </div>
            </div>
            <h5 style="color: #c23616; margin-top: 25px; background: #ffe5e5; padding: 15px; border-radius: 10px;">ğŸ“Š × ×™×ª×•×— ×“×¨×š 2</h5>
            <div class="form-group">
                <label>×ª×™××•×¨ ××¤×•×¨×˜ ×©×œ ×“×¨×š 2:</label>
                <textarea id="w5-professional-way2-full" rows="2"></textarea>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px;">
                <div class="form-group" style="background: #e8f5e9; padding: 15px; border-radius: 10px;">
                    <label style="color: #2e7d32;"><strong>âœ… ×”×¨×•×•×—×™× ××“×¨×š 2:</strong></label>
                    <textarea id="w5-professional-way2-gains" rows="5"></textarea>
                </div>
                <div class="form-group" style="background: #ffebee; padding: 15px; border-radius: 10px;">
                    <label style="color: #c62828;"><strong>âŒ ×”××—×™×¨×™× ××“×¨×š 2:</strong></label>
                    <textarea id="w5-professional-way2-costs" rows="5"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label>âš–ï¸ ×”×”×›×¨×¢×” ×©×œ×™: ××“×•×¢ ×‘×—×¨×ª× ×“×•×•×§× ×‘×“×¨×š ×–×•?</label>
                <textarea id="w5-professional-decision" rows="6"></textarea>
            </div>
            <div class="form-group">
                <label>ğŸ’¡ ×”×¤×ª×¨×•×Ÿ ×©×œ×™ ×œ×“×™×œ××” ×”××§×¦×•×¢×™×ª:</label>
                <textarea id="w5-professional-solution" rows="6"></textarea>
            </div>
            
            <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 30px; border-radius: 20px; text-align: center; margin-top: 50px; box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);">
                <h3 style="color: white; margin-top: 0; font-size: 1.8rem;">ğŸ‰ ×¡×™×•× ×”××¡×¢ â€“ ×›×œ ×”×›×‘×•×“!</h3>
                <p style="font-size: 1.2rem; margin: 15px 0; line-height: 1.8;">×”×’×¢×ª× ×œ×¡×•×£ ×”×“×¨×š, ×œ×¡×•×£ ×”××¡×¢ ×”×œ××“"× ×™ ×©×œ×›×.</p>
                <p style="font-size: 1.1rem; margin: 15px 0; line-height: 1.8;">×—×§×¨×ª× × ×•×©× ×©××¢× ×™×™×Ÿ ××ª×›×, ×©××œ×ª× ×©××œ×•×ª, ×—×™×¤×©×ª× ×ª×©×•×‘×•×ª, ×’×™×œ×™×ª× ×¨×¢×™×•× ×•×ª ×•×”×¦×œ×—×ª× ×œ× ×¡×— ×’× ×“×™×œ××•×ª ××•×¨×›×‘×•×ª ×•×¢××•×§×•×ª.</p>
                <p style="font-size: 1.1rem; margin: 0; line-height: 1.8; font-weight: bold;">×‘××”×œ×š ×”×¢×‘×•×“×” ×”×–××ª ×”×•×›×—×ª× ×©×™×© ×œ×›× ×—×©×™×‘×” ×‘×™×§×•×¨×ª×™×ª, ×¡×§×¨× ×•×ª, ×¨×’×™×©×•×ª ×•×™×›×•×œ×ª ×”×ª×‘×•× × ×•×ª ×¢×œ ×”×¢×•×œ×. ğŸŒŸ</p>
            </div>
            
            <div class="nav-internal">
                <button class="btn-prev" onclick="switchStep('w4')">â†’ ×—×–×¨×”</button>
            </div>
        </div>
    </div>
</div>

<!-- ×“×£ ×¡×™×•× -->
<div id="finish" class="page">
    <h1>×¡×™×•× ×•×©××™×¨×”</h1>
    <div style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); padding: 40px; border-radius: 20px; text-align: center; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
        <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ“</div>
        <h2 style="color: #2d3436; margin-bottom: 15px;">×¢×‘×•×“×” ××¦×•×™× ×ª!</h2>
        <p style="font-size: 1.2rem; color: #636e72; line-height: 1.8;">
            ×”×©×œ××ª× ××ª ×”×¢×‘×•×“×” ×‘×¢×‘×•×“×ª ×”×’××¨.<br>
            ×œ×—×¦×• ×¢×œ ×›×¤×ª×•×¨ ×”×©××™×¨×” ×›×“×™ ×œ×©××•×¨ ×•×œ×”×•×¨×™×“ ××ª ×›×œ ×”×ª×›× ×™× ×©×›×ª×‘×ª×.
        </p>
    </div>
    
    <div style="background: white; padding: 30px; border-radius: 20px; border-right: 6px solid #00b894;">
        <h3 style="color: #00b894; margin-top: 0;">ğŸ’¾ ×©××™×¨×ª ×”×¢×‘×•×“×”</h3>
        <p style="color: #666; line-height: 1.6; margin-bottom: 20px;">
            ×›××©×¨ ×ª×œ×—×¦×• ×¢×œ "×©××•×¨ ×•×”×•×¨×“", ×”×§×•×‘×¥ ×™×©××¨ ×‘××—×©×‘ ×©×œ×›× ×•×ª×•×›×œ×• ×œ×”×¢×œ×•×ª ××•×ª×• ×œ×ª×™×§×™×™×ª ×”×“×¨×™×™×‘ ×”××™×©×™×ª ×©×œ×›×.
        </p>
        <button onclick="saveAndDownload()" style="width: 100%; background: linear-gradient(45deg, #00b894, #00cec9); color: white; border: none; padding: 20px; font-size: 1.3rem; border-radius: 50px; cursor: pointer; font-weight: bold; box-shadow: 0 10px 25px rgba(0, 184, 148, 0.3);">
            ğŸ“¥ ×©××•×¨ ×•×”×•×¨×“ ××ª ×›×œ ×”×¢×‘×•×“×”
        </button>
    </div>

    <div style="background: #fff3cd; border: 2px solid #ffc107; padding: 20px; border-radius: 15px; margin-top: 30px;">
        <h4 style="color: #856404; margin-top: 0;">âš ï¸ ×—×©×•×‘ ×œ×–×›×•×¨:</h4>
        <ul style="color: #856404; line-height: 1.8;">
            <li>×©××¨×• ××ª ×”×¢×‘×•×“×” ×©×œ×›× ×‘××•×¤×Ÿ ×§×‘×•×¢</li>
            <li>×”×¢×œ×• ××ª ×”×§×•×‘×¥ ×œ×ª×™×§×™×™×ª ×”×“×¨×™×™×‘ ×”××™×©×™×ª ×©×œ×›×</li>
            <li>×©×ª×¤×• ××ª ×”××•×¨×” ×‘×ª×™×§×™×™×”</li>
            <li>×”××©×™×›×• ×œ×¢×‘×•×“ ×•×œ×¢×“×›×Ÿ ××ª ×”×ª×›× ×™× ×œ×¤×™ ×”×¦×•×¨×š</li>
        </ul>
    </div>

    <button class="btn-back-lobby" onclick="show('home', document.querySelectorAll('.nav-btn')[0])" style="margin-top: 30px;">×—×–×¨×” ×œ×©×¢×¨</button>
</div>

</div>

<script>
// ============================================================
// CONSTANTS
// ============================================================
const ADMIN_USER = 'admin';
const ADMIN_PASS = '14041963';
const TEACHER_PASS = '1234';

// Legacy student list (fallback if Firebase empty)
const LEGACY_STUDENTS = [
    { name: "×ª×”×œ ×œ×•×™",        id: "001", cls: "", driveLink: "https://drive.google.com/drive/folders/1jsCTvt5RuuC1CFT23s8k6MpnwnuybEh_" },
    { name: "×©× ×”×‘ ××•×¡×¨×™",     id: "002", cls: "", driveLink: "https://drive.google.com/drive/folders/1TfOL4SGl2B8DcdcNagTC8IEaBOgaN0Ng" },
    { name: "×©×™×¨×” ×¤×™× ×˜×•",     id: "003", cls: "", driveLink: "https://drive.google.com/drive/folders/1iqKDtzFqRGIM4j3YHc2PLnSx9uaDBG5h" },
    { name: "×¨×•× ×™ ×™×§×•×˜×™",     id: "004", cls: "", driveLink: "https://drive.google.com/drive/folders/1-bnYo54m-rKJw763ZpwfVcp19tGrnIB9" },
    { name: "×¡×™×•×Ÿ ×‘×•×¨×•×›×•×‘×™×¥", id: "005", cls: "", driveLink: "https://drive.google.com/drive/folders/1fYIZDwIe8a2UH7AbJV-pQZ7L_Do5C_f9" },
    { name: "× ×•×¢×” ××©×•×œ×",     id: "006", cls: "", driveLink: "https://drive.google.com/drive/folders/1bgxStSVyiWX5vgPWF3dBs8LzNQycNu9h" },
    { name: "× ×•×¢×” ×’×•×œ×“×©×˜×™×™×Ÿ", id: "007", cls: "", driveLink: "https://drive.google.com/drive/folders/1aDGEOkrBjEH9jrqvqcTRPGIvlbqrq0th" },
    { name: "××œ×™×¡×” ×¦×™×˜×¨×•×Ÿ",   id: "008", cls: "", driveLink: "https://drive.google.com/drive/folders/11hDb2LLqSXr6NCMqbLLe_e4ZGhsqAtBC" },
    { name: "×œ×™×”×™ ×•×œ×¦×¨",      id: "009", cls: "", driveLink: "https://drive.google.com/drive/folders/1nELbG8Ku2hGYcD1CGTXToBAtimttOlj9" },
    { name: "×œ×™×× ×˜×•×‘×œ×™",     id: "010", cls: "", driveLink: "https://drive.google.com/drive/folders/1C7gX99r7drIQJnzCKb5ASh6k9N3H9bYo" },
    { name: "×œ×™××œ ×“×”×Ÿ",       id: "011", cls: "", driveLink: "https://drive.google.com/drive/folders/1L5BVPyAp5mSDQzCN01z_jU-wyWUdd9Kh" },
    { name: "×™×¨×™×Ÿ ×¢××¨",       id: "012", cls: "", driveLink: "https://drive.google.com/drive/folders/11Yt4sM8aBTaU5udiyrQQVy82n3Or2LEM" },
    { name: "×™×¨×“×Ÿ × ×—×•×",      id: "013", cls: "", driveLink: "https://drive.google.com/drive/folders/1b52kJVhG9zlEo9q-KqzsZxvy0q5Kybqo" },
    { name: "×™×§×™×¨ ×“×”×Ÿ",       id: "014", cls: "", driveLink: "https://drive.google.com/drive/folders/1UJ6eE4vfveGm4qL9w5ZKVjXJG1p-frOf" },
    { name: "×™×”×œ×™ ×¨××“×”",      id: "015", cls: "", driveLink: "https://drive.google.com/drive/folders/1rar9wAwYSeCuW3uKRGlWjrgEW0AoCH6e" },
    { name: "×™×”×œ×™ ×˜×’× ×¨",      id: "016", cls: "", driveLink: "https://drive.google.com/drive/folders/1X3eGPqMqovG81pH6FroJE8EfLnfc2Z9W" },
    { name: "×˜×œ×™×” ×©×¨×¢×‘×™",     id: "017", cls: "", driveLink: "https://drive.google.com/drive/folders/1RNnrv3Vuy_ohKQUpxzdXvj5uf3lQwNQf" },
    { name: "×˜×œ×™×” ××œ×›×”",      id: "018", cls: "", driveLink: "https://drive.google.com/drive/folders/1DO-o3NrzrzYoo23OUsuxEGIirvCGm5kj" },
    { name: "×”×™×œ×” ×§×¨××¨",      id: "019", cls: "", driveLink: "https://drive.google.com/drive/folders/1DLJ22kwecxJnMjJUQqWmcHxaQxuMsXNV" },
    { name: "×’×•×œ×Ÿ ×“×˜×™××©×•×•×™×œ×™",id: "020", cls: "", driveLink: "https://drive.google.com/drive/folders/1gfu_dSu7CJuSmsqZeUmbCuEyOYfGDgsc" },
    { name: "×’××™×” ×§× ×˜×•×¨",     id: "021", cls: "", driveLink: "https://drive.google.com/drive/folders/1S2EqIefo72MWnUIj9JgSYavDPAAT2QkW" },
    { name: "×’××™×” ×˜×’× ×¨",      id: "022", cls: "", driveLink: "https://drive.google.com/drive/folders/1M80pM2bcy98FXj6Nr_ncSxx45bpoHUBn" },
    { name: "×× ××œ ×“×¨×¢×™",      id: "023", cls: "", driveLink: "https://drive.google.com/drive/folders/1wNe-wpidYSqdmJHdZnanZAyD_f0v_TNo" },
    { name: "××œ××•×’ × ×¤×ª×œ×™",    id: "024", cls: "", driveLink: "https://drive.google.com/drive/folders/16RhuLoZWci1ApaSCDtjgTUTYoGkw3TEs" }
];

// ============================================================
// STATE
// ============================================================
let currentRole = null;   // 'student' | 'teacher' | 'admin'
let currentUser = null;   // student/teacher object
let allStudents = [];     // loaded from Firebase
let allTeachers = [];     // loaded from Firebase
let saveTimeout = null;

// ============================================================
// UTILS
// ============================================================
function safeName(str) { return String(str).replace(/[.#$[\]\s/]/g, '_'); }

function fb(path) { return window._fbRef(window._db, path); }
async function fbGet(path) { return (await window._fbGet(fb(path))).val(); }
async function fbSet(path, val) { return window._fbSet(fb(path), val); }
async function fbRemove(path) { return window._fbRemove(fb(path)); }

function showSaveIndicator(msg, isError) {
    const el = document.getElementById('save-indicator');
    el.textContent = msg;
    el.classList.toggle('error', !!isError);
    el.classList.add('visible');
    clearTimeout(el._t);
    el._t = setTimeout(() => el.classList.remove('visible'), 3000);
}

// ============================================================
// LOGIN
// ============================================================
function switchLoginRole(role) {
    ['student','teacher','admin'].forEach(r => {
        document.getElementById('login-'+r).style.display = r === role ? 'block' : 'none';
        document.getElementById('login-error-'+r).classList.remove('show');
    });
    document.querySelectorAll('.role-tab').forEach((btn, i) => {
        btn.classList.toggle('active', ['student','teacher','admin'][i] === role);
    });
}

async function ensureFirebase() {
    if (window._firebaseReady) return;
    await new Promise(res => document.addEventListener('firebaseReady', res, {once: true}));
}

async function loadAllStudents() {
    await ensureFirebase();
    const data = await fbGet('students_list');
    if (data) {
        allStudents = Object.values(data);
    } else {
        // seed with legacy list
        allStudents = LEGACY_STUDENTS.map(s => ({...s}));
        await fbSet('students_list', Object.fromEntries(allStudents.map(s => [safeName(s.id || s.name), s])));
    }
}

async function loadAllTeachers() {
    await ensureFirebase();
    const data = await fbGet('teachers_list');
    allTeachers = data ? Object.values(data) : [];
}

// ---- STUDENT LOGIN ----
async function doLoginStudent() {
    const idVal = document.getElementById('input-student-id').value.trim();
    if (!idVal) return;
    await loadAllStudents();
    const student = allStudents.find(s => String(s.id) === idVal);
    if (!student) {
        document.getElementById('login-error-student').classList.add('show');
        return;
    }
    currentRole = 'student';
    currentUser = student;
    document.getElementById('login-overlay').classList.add('hidden');
    initStudentSession(student);
}

// ---- TEACHER LOGIN ----
async function doLoginTeacher() {
    const idVal = document.getElementById('input-teacher-id').value.trim();
    const passVal = document.getElementById('input-teacher-pass').value.trim();
    await loadAllTeachers();
    const teacher = allTeachers.find(t => String(t.id) === idVal && t.pass === passVal);
    if (!teacher) {
        document.getElementById('login-error-teacher').classList.add('show');
        return;
    }
    currentRole = 'teacher';
    currentUser = teacher;
    document.getElementById('login-overlay').classList.add('hidden');
    initTeacherSession(teacher);
}

// ---- ADMIN LOGIN ----
async function doLoginAdmin() {
    const user = document.getElementById('input-admin-user').value.trim();
    const pass = document.getElementById('input-admin-pass').value.trim();
    if (user !== ADMIN_USER || pass !== ADMIN_PASS) {
        document.getElementById('login-error-admin').classList.add('show');
        return;
    }
    currentRole = 'admin';
    currentUser = { name: '×× ×”×œ ××¢×¨×›×ª' };
    document.getElementById('login-overlay').classList.add('hidden');
    initAdminSession();
}

function doLogout() {
    currentRole = null; currentUser = null;
    document.getElementById('teacher-dashboard').classList.remove('visible');
    document.getElementById('admin-dashboard').classList.remove('visible');
    document.getElementById('login-overlay').classList.remove('hidden');
    switchLoginRole('student');
    // clear all fields
    document.querySelectorAll('input[type="text"], textarea, select').forEach(el => { if(el.id) el.value=''; });
}

// ============================================================
// STUDENT SESSION
// ============================================================
function initStudentSession(student) {
    // Populate student name selector (legacy UI)
    const select = document.getElementById('studentName');
    select.innerHTML = '<option value="">-- ×‘×—×¨ ×ª×œ××™×“/×” --</option>';
    // Find + set this student in the dropdown
    const opt = document.createElement('option');
    opt.value = student.name;
    opt.textContent = student.name;
    select.appendChild(opt);
    select.value = student.name;

    // Show name
    document.getElementById('display-fixed-name').textContent = student.name;
    document.getElementById('display-fixed-name').style.display = 'block';
    if (student.driveLink) {
        document.getElementById('personalDriveLink').href = student.driveLink;
        document.getElementById('personalDriveLink').style.display = 'flex';
    }
    document.querySelectorAll('.hidden-after-login').forEach(el => el.style.display = 'none');

    // Load data from Firebase
    loadStudentData(student.id);

    // Auto-save on input
    document.addEventListener('input', function(e) {
        if (e.target.matches('input[type="text"], textarea')) {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => saveStudentData(student.id), 2000);
        }
    });
    document.addEventListener('change', function(e) {
        if (e.target.matches('select') && e.target.id !== 'studentName') {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => saveStudentData(student.id), 500);
        }
    });
    setInterval(() => saveStudentData(student.id), 30000);
}

async function saveStudentData(studentId) {
    if (!studentId || !window._firebaseReady) return;
    const allInputs = document.querySelectorAll('input[type="text"], textarea, select');
    const data = { _savedAt: new Date().toISOString() };
    allInputs.forEach(inp => { if (inp.id && inp.value && inp.id !== 'studentName') data[inp.id] = inp.value; });
    try {
        await fbSet('student_data/' + safeName(studentId), data);
        showSaveIndicator('â˜ï¸ × ×©××¨ ×‘×¢× ×Ÿ');
    } catch(e) {
        showSaveIndicator('âš ï¸ ×©×’×™××ª ×©××™×¨×”', true);
    }
}

async function loadStudentData(studentId) {
    if (!window._firebaseReady) return;
    try {
        const data = await fbGet('student_data/' + safeName(studentId));
        if (data) {
            Object.keys(data).forEach(fid => {
                if (fid === '_savedAt') return;
                const el = document.getElementById(fid);
                if (el) el.value = data[fid];
            });
            showSaveIndicator('âœ… × ×˜×¢×Ÿ ××”×¢× ×Ÿ');
        }
    } catch(e) { console.error(e); }
}

// ============================================================
// TEACHER SESSION
// ============================================================
async function initTeacherSession(teacher) {
    document.getElementById('teacher-name-display').textContent = '×©×œ×•×, ' + teacher.name;
    document.getElementById('teacher-dashboard').classList.add('visible');
    await loadAllStudents();

    // If teacher has assigned classes, filter students to those classes only
    const teacherClasses = teacher.classes && teacher.classes.length ? teacher.classes : null;
    const visibleStudents = teacherClasses
        ? allStudents.filter(s => teacherClasses.includes(s.cls))
        : allStudents;

    // Show teacher's classes in header
    if (teacherClasses) {
        document.getElementById('teacher-name-display').textContent =
            '×©×œ×•×, ' + teacher.name + ' | ×›×™×ª×•×ª: ' + teacherClasses.join(', ');
    }

    // Build class filter â€” only classes this teacher teaches
    const availableClasses = teacherClasses
        ? teacherClasses
        : [...new Set(allStudents.map(s => s.cls).filter(Boolean))].sort();

    const filterSel = document.getElementById('teacher-class-filter');
    filterSel.innerHTML = '<option value="">×›×œ ×”×›×™×ª×•×ª ×©×œ×™</option>';
    availableClasses.forEach(c => {
        const o = document.createElement('option');
        o.value = c; o.textContent = c;
        filterSel.appendChild(o);
    });

    // Store visible students for this teacher session
    window._teacherVisibleStudents = visibleStudents;

    renderTeacherStudents();
}

async function renderTeacherStudents() {
    const filterCls = document.getElementById('teacher-class-filter').value;
    const pool = window._teacherVisibleStudents || allStudents;
    const filtered = filterCls ? pool.filter(s => s.cls === filterCls) : pool;
    document.getElementById('teacher-student-count').textContent = filtered.length + ' ×ª×œ××™×“×™×';

    const list = document.getElementById('teacher-students-list');
    list.innerHTML = '<div style="text-align:center;padding:30px;color:#888">×˜×•×¢×Ÿ × ×ª×•× ×™×...</div>';

    if (!filtered.length) {
        list.innerHTML = '<div style="text-align:center;padding:40px;color:#aaa;font-size:1.1rem">××™×Ÿ ×ª×œ××™×“×™× ×‘×›×™×ª×” ×–×•</div>';
        return;
    }

    // Load progress for each student
    const entries = await Promise.all(filtered.map(async s => {
        const data = await fbGet('student_data/' + safeName(s.id));
        const pct = data ? calcProgress(data) : 0;
        return { student: s, pct, data };
    }));

    entries.sort((a,b) => b.pct - a.pct);
    list.innerHTML = '';
    entries.forEach(({ student, pct }) => {
        const initials = student.name.split(' ').map(w=>w[0]).join('').slice(0,2);
        const div = document.createElement('div');
        div.className = 'student-card';
        div.innerHTML = `
          <div class="student-avatar">${initials}</div>
          <div class="student-info">
            <div class="student-name">${student.name}</div>
            <div class="student-class">${student.cls || '×œ×œ× ×›×™×ª×”'} &nbsp;|&nbsp; ×ª.×–: ${student.id}</div>
            <div class="progress-mini"><div class="progress-mini-fill" style="width:${pct}%"></div></div>
          </div>
          <div class="student-progress">${pct}%</div>
        `;
        div.onclick = () => openWorkViewer(student);
        list.appendChild(div);
    });
}

function calcProgress(data) {
    const ALL_FIELDS = ['w1-topic','w1-question','w1-type','w2-rationale','w2-background','w2-text1-name','w2-text1-link','w2-text1-desc','w2-text2-name','w2-text2-link','w2-text2-desc','w2-text3-name','w2-text3-link','w2-text3-desc','w3-article1-title','w3-article1-link','w3-article1-summary','w3-article1-quote1','w3-article1-explain1','w3-article1-quote2','w3-article1-explain2','w3-article2-title','w3-article2-link','w3-article2-summary','w3-article2-quote1','w3-article2-explain1','w3-article2-quote2','w3-article2-explain2','w4-research-question','w4-research-field','w4-findings','w5-what-checked','w5-what-found','w5-my-opinion','w5-personal-dilemma','w5-personal-decision','w5-professional-dilemma','w5-professional-decision'];
    const filled = ALL_FIELDS.filter(f => data[f] && data[f].trim()).length;
    return Math.round(filled / ALL_FIELDS.length * 100);
}

async function openWorkViewer(student) {
    // Show loading state immediately
    document.getElementById('viewer-title').textContent = 'ğŸ“‹ ×¢×‘×•×“×ª ' + student.name;
    document.getElementById('viewer-content').innerHTML = '<div style="text-align:center;padding:60px;color:#888;font-size:1.1rem">â³ ×˜×•×¢×Ÿ ×¢×‘×•×“×”...</div>';
    document.getElementById('work-viewer').classList.add('visible');

    const data = await fbGet('student_data/' + safeName(student.id)) || {};
    const pct = calcProgress(data);
    const savedAt = data._savedAt ? new Date(data._savedAt).toLocaleString('he-IL') : null;

    function field(label, fid, big) {
        const val = data[fid];
        const filled = val && val.trim();
        return `<div style="margin-bottom:16px">
            <div style="font-weight:700;font-size:0.88rem;color:#555;margin-bottom:5px">${label}</div>
            <div style="background:${filled?'#f8f9fa':'#fff5f5'};padding:12px 15px;border-radius:10px;
                color:${filled?'#2d3436':'#aaa'};font-size:0.95rem;line-height:1.7;
                border:1px solid ${filled?'#e0e0e0':'#fca5a5'};
                min-height:${big?'70px':'38px'};white-space:pre-wrap;word-break:break-word">
                ${filled ? val.replace(/</g,'&lt;') : 'â€” ×œ× ××•×œ× â€”'}
            </div>
        </div>`;
    }

    function link(label, fid) {
        const val = data[fid];
        const filled = val && val.trim();
        return `<div style="margin-bottom:16px">
            <div style="font-weight:700;font-size:0.88rem;color:#555;margin-bottom:5px">${label}</div>
            ${filled
                ? `<a href="${val}" target="_blank" style="display:inline-flex;align-items:center;gap:6px;background:#e8f4fd;color:#1a73e8;padding:8px 14px;border-radius:8px;text-decoration:none;font-size:0.9rem;border:1px solid #bee3f8;word-break:break-all">ğŸ”— ${val}</a>`
                : `<div style="background:#fff5f5;padding:10px 14px;border-radius:8px;color:#aaa;font-size:0.9rem;border:1px solid #fca5a5">â€” ×œ× ××•×œ× â€”</div>`
            }
        </div>`;
    }

    function section(title, color, icon, content) {
        return `<div style="background:white;border-radius:16px;margin-bottom:20px;
            box-shadow:0 4px 15px rgba(0,0,0,0.07);overflow:hidden;border:1px solid #f0f0f0">
            <div style="background:${color}15;border-right:5px solid ${color};
                padding:16px 20px;display:flex;align-items:center;gap:10px">
                <span style="font-size:1.4rem">${icon}</span>
                <span style="font-size:1.15rem;font-weight:900;color:${color}">${title}</span>
            </div>
            <div style="padding:20px">${content}</div>
        </div>`;
    }

    function subsection(title, color) {
        return `<div style="font-size:1rem;font-weight:800;color:${color};background:${color}12;
            padding:10px 14px;border-radius:10px;margin:20px 0 14px">${title}</div>`;
    }

    function twoCol(left, right) {
        return `<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:4px">${left}${right}</div>`;
    }

    let html = '';

    // Header bar
    html += `<div style="background:linear-gradient(135deg,#667eea,#764ba2);color:white;
        padding:22px 25px;border-radius:16px;margin-bottom:22px;display:flex;
        align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px">
        <div>
            <div style="font-size:1.5rem;font-weight:900">${student.name}</div>
            <div style="opacity:0.85;font-size:0.9rem;margin-top:3px">
                ${student.cls ? '×›×™×ª×” ' + student.cls + ' &nbsp;|&nbsp; ' : ''}×ª.×–: ${student.id}
                ${savedAt ? '&nbsp;|&nbsp; ×©××™×¨×” ××—×¨×•× ×”: ' + savedAt : ''}
            </div>
        </div>
        <div style="text-align:center;background:rgba(255,255,255,0.2);border-radius:14px;padding:12px 22px">
            <div style="font-size:2.2rem;font-weight:900">${pct}%</div>
            <div style="font-size:0.85rem;opacity:0.9">×”×ª×§×“××•×ª</div>
        </div>
    </div>`;

    // â”€â”€ ×©×œ×‘ 1 â”€â”€
    html += section('×©×œ×‘ 1: ×”××•×¨×” ×™×© ×œ×™ ×¨×¢×™×•×Ÿ', '#f9ca24', 'ğŸ’¡',
        field('×©× ×”× ×•×©×', 'w1-topic') +
        field('×©××œ×ª ××—×§×¨ ×¨××©×•× ×™×ª', 'w1-question', true) +
        field('×¡×•×’ ×”×”×¤×§×”', 'w1-type')
    );

    // â”€â”€ ×©×œ×‘ 2 â”€â”€
    html += section('×©×œ×‘ 2: ×¤×¨×§ ×”××‘×•×', '#00a8ff', 'ğŸ“',
        field('×¨×¦×™×•× ×œ â€” ×œ××” ×‘×—×¨×ª×™ ×‘× ×•×©×?', 'w2-rationale', true) +
        field('×¨×§×¢ ×›×œ×œ×™ ×¢×œ ×”× ×•×©×', 'w2-background', true) +
        field('×“×™×œ××”', 'w2-dilemma', true) +
        field('×©××œ×ª ×—×§×¨', 'w2-question', true) +
        subsection('ğŸ“° 3 ×˜×§×¡×˜×™× ×ª×§×©×•×¨×ª×™×™×', '#00a8ff') +
        field('×˜×§×¡×˜ 1 â€” ×©×', 'w2-text1-name') + link('×˜×§×¡×˜ 1 â€” ×§×™×©×•×¨', 'w2-text1-link') + field('×˜×§×¡×˜ 1 â€” ×”×¡×‘×¨', 'w2-text1-desc', true) +
        field('×˜×§×¡×˜ 2 â€” ×©×', 'w2-text2-name') + link('×˜×§×¡×˜ 2 â€” ×§×™×©×•×¨', 'w2-text2-link') + field('×˜×§×¡×˜ 2 â€” ×”×¡×‘×¨', 'w2-text2-desc', true) +
        field('×˜×§×¡×˜ 3 â€” ×©×', 'w2-text3-name') + link('×˜×§×¡×˜ 3 â€” ×§×™×©×•×¨', 'w2-text3-link') + field('×˜×§×¡×˜ 3 â€” ×”×¡×‘×¨', 'w2-text3-desc', true)
    );

    // â”€â”€ ×©×œ×‘ 3 â”€â”€
    let w3content = '';
    // Articles
    for (let a = 1; a <= 2; a++) {
        w3content += subsection(`ğŸ“„ ××××¨ ××§×“××™ ${a}`, '#8c7ae6');
        w3content += field(`×©× ×”××××¨ ${a} / ××—×‘×¨ / ×©× ×”`, `w3-article${a}-title`);
        w3content += link(`×§×™×©×•×¨ ×œ××××¨ ${a}`, `w3-article${a}-link`);
        w3content += field(`×¡×™×›×•× ×”××××¨ ${a}`, `w3-article${a}-summary`, true);
        w3content += field(`×¦×™×˜×•×˜ ×¨××©×•×Ÿ`, `w3-article${a}-quote1`, true);
        w3content += field(`×”×¡×‘×¨ ×¦×™×˜×•×˜ ×¨××©×•×Ÿ`, `w3-article${a}-explain1`, true);
        w3content += field(`×¦×™×˜×•×˜ ×©× ×™`, `w3-article${a}-quote2`, true);
        w3content += field(`×”×¡×‘×¨ ×¦×™×˜×•×˜ ×©× ×™`, `w3-article${a}-explain2`, true);
    }
    // Concepts
    for (let c = 1; c <= 10; c++) {
        const hasData = data[`w3-concept${c}-name`] && data[`w3-concept${c}-name`].trim();
        if (c > 3 && !hasData) continue; // skip empty concepts after 3
        w3content += subsection(`ğŸ’¡ ××•×©×’ ${c}`, '#8c7ae6');
        w3content += field(`×©× ×”××•×©×’ ${c}`, `w3-concept${c}-name`);
        w3content += field(`×”×¡×‘×¨ ×”××•×©×’`, `w3-concept${c}-explanation`, true);
        w3content += field(`×§×©×¨ ×œ×¢×‘×•×“×”`, `w3-concept${c}-connection`, true);
        w3content += twoCol(
            field(`×–×™×¨×” 1`, `w3-concept${c}-arena1`) + field(`×”×¡×‘×¨ ×–×™×¨×” 1`, `w3-concept${c}-arena1-explain`, true),
            field(`×–×™×¨×” 2`, `w3-concept${c}-arena2`) + field(`×”×¡×‘×¨ ×–×™×¨×” 2`, `w3-concept${c}-arena2-explain`, true)
        );
    }
    w3content += field('×‘×™×‘×œ×™×•×’×¨×¤×™×”', 'w3-bibliography', true);
    html += section('×©×œ×‘ 3: ×¨×§×¢ ×ª×™××•×¨×˜×™', '#9c88ff', 'ğŸ“š', w3content);

    // â”€â”€ ×©×œ×‘ 4 â”€â”€
    let w4content =
        field('×©××œ×ª ××—×§×¨', 'w4-research-question', true) +
        field('×ª×—×•× ×—×§×¨', 'w4-research-field') +
        subsection('â“ ×©××œ×•×ª ××¡×¨×§', '#44bd32');
    for (let q = 1; q <= 6; q++) {
        const hasQ = data[`w4-comb-q${q}`] && data[`w4-comb-q${q}`].trim();
        if (q > 3 && !hasQ) continue;
        w4content += field(`×©××œ×ª ××¡×¨×§ ${q}`, `w4-comb-q${q}`, true);
        w4content += field(`× ×™××•×§ ×œ×©××œ×” ${q}`, `w4-comb-reason${q}`, true);
    }
    w4content += link('×§×™×©×•×¨ ×œ×˜×‘×œ×ª ××—×§×¨', 'w4-research-table-link');
    w4content += field('×××¦××™×', 'w4-findings', true);
    html += section('×©×œ×‘ 4: ××ª×•×“×•×œ×•×’×™×” ×•×—×§×¨', '#4cd137', 'ğŸ”¬', w4content);

    // â”€â”€ ×©×œ×‘ 5 â”€â”€
    let w5content =
        field('××” ×‘×“×§×ª×™?', 'w5-what-checked', true) +
        field('××” ××¦××ª×™?', 'w5-what-found', true) +
        field('××” ×“×¢×ª×™?', 'w5-my-opinion', true) +
        field('×§×©×¨ ×œ××•×©×’×™×', 'w5-concepts-connection', true) +
        field('××•×¨×™×™× ×•×ª ×ª×§×©×•×¨×ª×™×ª', 'w5-media-literacy', true) +
        field('××•×¨×™×™× ×•×ª ××–×¨×—×™×ª', 'w5-civic-literacy', true) +
        subsection('ğŸ‘¤ ×”×“×™×œ××” ×”××™×©×™×ª', '#c23616') +
        field('×”×“×™×œ××” ×”××™×©×™×ª', 'w5-personal-dilemma', true) +
        twoCol(field('×“×¨×š 1', 'w5-personal-way1', true), field('×“×¨×š 2', 'w5-personal-way2', true)) +
        field('×ª×™××•×¨ ××¤×•×¨×˜ ×“×¨×š 1', 'w5-personal-way1-full', true) +
        twoCol(
            `<div style="background:#e8f5e9;padding:12px;border-radius:10px">${field('âœ… ×¨×•×•×—×™× ××“×¨×š 1', 'w5-personal-way1-gains', true)}</div>`,
            `<div style="background:#ffebee;padding:12px;border-radius:10px">${field('âŒ ××—×™×¨×™× ××“×¨×š 1', 'w5-personal-way1-costs', true)}</div>`
        ) +
        field('×ª×™××•×¨ ××¤×•×¨×˜ ×“×¨×š 2', 'w5-personal-way2-full', true) +
        twoCol(
            `<div style="background:#e8f5e9;padding:12px;border-radius:10px">${field('âœ… ×¨×•×•×—×™× ××“×¨×š 2', 'w5-personal-way2-gains', true)}</div>`,
            `<div style="background:#ffebee;padding:12px;border-radius:10px">${field('âŒ ××—×™×¨×™× ××“×¨×š 2', 'w5-personal-way2-costs', true)}</div>`
        ) +
        field('âš–ï¸ ×”×”×›×¨×¢×” â€” ××“×•×¢ ×“×¨×š ×–×•?', 'w5-personal-decision', true) +
        field('ğŸ’¡ ×”×¤×ª×¨×•×Ÿ ×œ×“×™×œ××” ×”××™×©×™×ª', 'w5-personal-solution', true) +
        subsection('ğŸ‘” ×”×“×™×œ××” ×”××§×¦×•×¢×™×ª', '#c23616') +
        field('×”×“×™×œ××” ×”××§×¦×•×¢×™×ª', 'w5-professional-dilemma', true) +
        twoCol(field('×“×¨×š 1', 'w5-professional-way1', true), field('×“×¨×š 2', 'w5-professional-way2', true)) +
        field('×ª×™××•×¨ ××¤×•×¨×˜ ×“×¨×š 1', 'w5-professional-way1-full', true) +
        twoCol(
            `<div style="background:#e8f5e9;padding:12px;border-radius:10px">${field('âœ… ×¨×•×•×—×™× ××“×¨×š 1', 'w5-professional-way1-gains', true)}</div>`,
            `<div style="background:#ffebee;padding:12px;border-radius:10px">${field('âŒ ××—×™×¨×™× ××“×¨×š 1', 'w5-professional-way1-costs', true)}</div>`
        ) +
        field('×ª×™××•×¨ ××¤×•×¨×˜ ×“×¨×š 2', 'w5-professional-way2-full', true) +
        twoCol(
            `<div style="background:#e8f5e9;padding:12px;border-radius:10px">${field('âœ… ×¨×•×•×—×™× ××“×¨×š 2', 'w5-professional-way2-gains', true)}</div>`,
            `<div style="background:#ffebee;padding:12px;border-radius:10px">${field('âŒ ××—×™×¨×™× ××“×¨×š 2', 'w5-professional-way2-costs', true)}</div>`
        ) +
        field('âš–ï¸ ×”×”×›×¨×¢×” â€” ××“×•×¢ ×“×¨×š ×–×•?', 'w5-professional-decision', true) +
        field('ğŸ’¡ ×”×¤×ª×¨×•×Ÿ ×œ×“×™×œ××” ×”××§×¦×•×¢×™×ª', 'w5-professional-solution', true);
    html += section('×©×œ×‘ 5: ×¡×™×›×•× ×•×“×™×•×Ÿ', '#e84118', 'âœ…', w5content);

    document.getElementById('viewer-content').innerHTML = html;
}

function closeWorkViewer() {
    document.getElementById('work-viewer').classList.remove('visible');
}

// ============================================================
// ADMIN SESSION
// ============================================================
async function initAdminSession() {
    document.getElementById('admin-dashboard').classList.add('visible');
    await Promise.all([loadAllStudents(), loadAllTeachers()]);
    renderAdminStudentsTable();
    renderAdminTeachersTable();
}

function switchAdminTab(tab) {
    document.querySelectorAll('.a-tab').forEach((b,i) => b.classList.toggle('active', ['students','teachers','import'][i]===tab));
    document.querySelectorAll('.a-section').forEach(s => s.classList.remove('active'));
    document.getElementById('a-'+tab).classList.add('active');
}

function renderAdminStudentsTable() {
    const wrap = document.getElementById('admin-students-table-wrap');
    if (!allStudents.length) { wrap.innerHTML = '<p style="color:#888;text-align:center">××™×Ÿ ×ª×œ××™×“×™× ×¢×“×™×™×Ÿ</p>'; return; }
    let rows = allStudents.map(s => `
        <tr>
            <td>${s.name}</td>
            <td>${s.id}</td>
            <td>${s.cls || 'â€”'}</td>
            <td><button class="btn-del" onclick="adminDeleteStudent('${safeName(s.id)}')">××—×§</button></td>
        </tr>`).join('');
    wrap.innerHTML = `<table class="admin-table">
        <thead><tr><th>×©×</th><th>×ª.×–</th><th>×›×™×ª×”</th><th>×¤×¢×•×œ×•×ª</th></tr></thead>
        <tbody>${rows}</tbody>
    </table>`;
}

function renderAdminTeachersTable() {
    const wrap = document.getElementById('admin-teachers-table-wrap');
    if (!allTeachers.length) { wrap.innerHTML = '<p style="color:#888;text-align:center">××™×Ÿ ××•×¨×™× ×¢×“×™×™×Ÿ</p>'; return; }
    let rows = allTeachers.map(t => `
        <tr>
            <td>${t.name}</td>
            <td>${t.id}</td>
            <td>${t.classes ? t.classes.join(', ') : '<span style="color:#aaa">×›×œ ×”×›×™×ª×•×ª</span>'}</td>
            <td>****</td>
            <td><button class="btn-del" onclick="adminDeleteTeacher('${safeName(t.id)}')">××—×§</button></td>
        </tr>`).join('');
    wrap.innerHTML = `<table class="admin-table">
        <thead><tr><th>×©×</th><th>×ª.×–</th><th>×›×™×ª×•×ª</th><th>×¡×™×¡××”</th><th>×¤×¢×•×œ×•×ª</th></tr></thead>
        <tbody>${rows}</tbody>
    </table>`;
}

async function adminAddStudent() {
    const name = document.getElementById('new-s-name').value.trim();
    const id   = document.getElementById('new-s-id').value.trim();
    const cls  = document.getElementById('new-s-class').value.trim();
    if (!name || !id) { alert('× × ×œ××œ× ×©× ×•×ª.×–'); return; }
    if (allStudents.find(s => String(s.id) === id)) { alert('×ª.×– ×›×‘×¨ ×§×™×™××ª'); return; }
    const student = { name, id, cls, driveLink: '' };
    allStudents.push(student);
    await fbSet('students_list/' + safeName(id), student);
    document.getElementById('new-s-name').value = '';
    document.getElementById('new-s-id').value = '';
    document.getElementById('new-s-class').value = '';
    renderAdminStudentsTable();
    showSaveIndicator('âœ… ×ª×œ××™×“ × ×•×¡×£');
}

async function adminDeleteStudent(safeId) {
    if (!confirm('×œ××—×•×§ ×ª×œ××™×“ ×–×”?')) return;
    allStudents = allStudents.filter(s => safeName(s.id) !== safeId);
    await fbRemove('students_list/' + safeId);
    renderAdminStudentsTable();
    showSaveIndicator('ğŸ—‘ï¸ ×ª×œ××™×“ × ××—×§');
}

async function adminAddTeacher() {
    const name    = document.getElementById('new-t-name').value.trim();
    const id      = document.getElementById('new-t-id').value.trim();
    const pass    = document.getElementById('new-t-pass').value.trim() || TEACHER_PASS;
    const clsRaw  = document.getElementById('new-t-classes').value.trim();
    const classes = clsRaw ? clsRaw.split(',').map(c => c.trim()).filter(Boolean) : [];
    if (!name || !id) { alert('× × ×œ××œ× ×©× ×•×ª.×–'); return; }
    if (allTeachers.find(t => String(t.id) === id)) { alert('×ª.×– ×›×‘×¨ ×§×™×™××ª'); return; }
    const teacher = { name, id, pass, classes };
    allTeachers.push(teacher);
    await fbSet('teachers_list/' + safeName(id), teacher);
    document.getElementById('new-t-name').value = '';
    document.getElementById('new-t-id').value = '';
    document.getElementById('new-t-classes').value = '';
    renderAdminTeachersTable();
    showSaveIndicator('âœ… ××•×¨×” × ×•×¡×£');
}

async function adminDeleteTeacher(safeId) {
    if (!confirm('×œ××—×•×§ ××•×¨×” ×–×”?')) return;
    allTeachers = allTeachers.filter(t => safeName(t.id) !== safeId);
    await fbRemove('teachers_list/' + safeId);
    renderAdminTeachersTable();
    showSaveIndicator('ğŸ—‘ï¸ ××•×¨×” × ××—×§');
}

// ============================================================
// EXCEL IMPORT
// ============================================================
async function handleExcelUpload(event) {
    const file = event.target.files[0];
    if (!file) return;

    // Load SheetJS dynamically
    if (!window.XLSX) {
        await new Promise((res, rej) => {
            const s = document.createElement('script');
            s.src = 'https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js';
            s.onload = res; s.onerror = rej;
            document.head.appendChild(s);
        });
    }

    const reader = new FileReader();
    reader.onload = async (e) => {
        try {
            const wb = XLSX.read(e.target.result, { type: 'binary' });
            const ws = wb.Sheets[wb.SheetNames[0]];
            const rows = XLSX.utils.sheet_to_json(ws, { defval: '' });

            // Detect columns
            const preview = document.getElementById('import-preview');
            if (!rows.length) { preview.innerHTML = '<p style="color:red">×”×§×•×‘×¥ ×¨×™×§</p>'; return; }

            // Map columns flexibly
            const colMap = {};
            const keys = Object.keys(rows[0]);
            keys.forEach(k => {
                const kl = k.trim();
                if (/×©×/.test(kl)) colMap.name = k;
                if (/×–×”×•×ª|×ª.×–|×ª×–|id/i.test(kl)) colMap.id = k;
                if (/×›×™×ª×”|class/i.test(kl)) colMap.cls = k;
            });

            if (!colMap.name || !colMap.id) {
                preview.innerHTML = '<div style="background:#fff5f5;border:1px solid #fca5a5;padding:15px;border-radius:10px;color:#b91c1c">âŒ ×œ× × ××¦××• ×¢××•×“×•×ª "×©×" ×•"×ª×¢×•×“×ª ×–×”×•×ª" ×‘×§×•×‘×¥</div>';
                return;
            }

            const newStudents = rows.map(r => ({
                name: String(r[colMap.name] || '').trim(),
                id:   String(r[colMap.id]   || '').trim(),
                cls:  String(r[colMap.cls]  || '').trim(),
                driveLink: ''
            })).filter(s => s.name && s.id);

            // Show preview
            preview.innerHTML = `
                <div style="background:#f0fff4;border:1px solid #6ee7b7;padding:15px;border-radius:10px;margin-bottom:15px">
                    âœ… × ××¦××• <strong>${newStudents.length}</strong> ×ª×œ××™×“×™× ×œ×™×™×‘×•×
                </div>
                <table class="admin-table" style="margin-bottom:15px">
                    <thead><tr><th>×©×</th><th>×ª.×–</th><th>×›×™×ª×”</th></tr></thead>
                    <tbody>${newStudents.slice(0,10).map(s=>`<tr><td>${s.name}</td><td>${s.id}</td><td>${s.cls||'â€”'}</td></tr>`).join('')}</tbody>
                </table>
                ${newStudents.length > 10 ? `<p style="color:#888;text-align:center">×•×¢×•×“ ${newStudents.length-10} ×ª×œ××™×“×™×...</p>` : ''}
                <div style="display:flex;gap:10px;margin-top:15px">
                    <button class="action-btn" onclick="confirmExcelImport(${JSON.stringify(newStudents).split('"').join('&quot;')})">âœ… ××©×¨ ×™×™×‘×•×</button>
                    <button class="action-btn red" onclick="document.getElementById('import-preview').innerHTML=''">×‘×™×˜×•×œ</button>
                </div>`;
        } catch(err) {
            document.getElementById('import-preview').innerHTML = '<div style="color:red">×©×’×™××” ×‘×§×¨×™××ª ×”×§×•×‘×¥: '+err.message+'</div>';
        }
    };
    reader.readAsBinaryString(file);
}

async function confirmExcelImport(newStudents) {
    let added = 0, skipped = 0;
    for (const s of newStudents) {
        if (!allStudents.find(ex => ex.id === s.id)) {
            allStudents.push(s);
            await fbSet('students_list/' + safeName(s.id), s);
            added++;
        } else skipped++;
    }
    renderAdminStudentsTable();
    document.getElementById('import-preview').innerHTML = `
        <div style="background:#f0fff4;border:1px solid #6ee7b7;padding:20px;border-radius:12px;text-align:center">
            <div style="font-size:2rem;margin-bottom:8px">ğŸ‰</div>
            <strong>×”×™×™×‘×•× ×”×•×©×œ×!</strong><br>
            × ×•×¡×¤×•: ${added} ×ª×œ××™×“×™× &nbsp;|&nbsp; ×“×•×œ×’×• (×§×™×™××™×): ${skipped}
        </div>`;
    showSaveIndicator('âœ… ×™×™×‘×•× ×”×•×©×œ×');
}

// ============================================================
// LEGACY FUNCTIONS (required by existing HTML)
// ============================================================
function show(pageId, btn) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    if (btn) btn.classList.add('active');
    if (pageId === 'final-dashboard') setTimeout(calculateFinalDashboard, 200);
    window.scrollTo(0, 0);
}

function openWizard(stepId) {
    document.getElementById('final-menu-grid').style.display = 'none';
    document.getElementById('final-wizard-container').style.display = 'block';
    switchStep(stepId);
}

function closeWizard() {
    document.getElementById('final-wizard-container').style.display = 'none';
    document.getElementById('final-menu-grid').style.display = 'grid';
}

function switchStep(stepId) {
    document.querySelectorAll('.project-section').forEach(s => { s.style.display='none'; s.classList.remove('active'); });
    document.querySelectorAll('.step-btn').forEach(b => b.classList.remove('active-step'));
    const tgt = document.getElementById(stepId);
    const tBtn = document.querySelector(`.step-btn[onclick="switchStep('${stepId}')"]`);
    if (tgt) { tgt.style.display='block'; tgt.classList.add('active'); }
    if (tBtn) tBtn.classList.add('active-step');
    window.scrollTo(0, 0);
}

function syncSelection(name) {} // no-op, replaced by login

function saveAndDownload() {
    const studentId = currentUser ? currentUser.id : null;
    if (!studentId) { alert('âŒ ×× × ×”×ª×—×‘×¨ ×ª×—×™×œ×”'); return; }
    saveStudentData(studentId);

    // Build download
    const studentName = currentUser.name || '×ª×œ××™×“';
    const clonedDoc = document.cloneNode(true);
    const originalInputs = document.querySelectorAll('input[type="text"], textarea, select');
    const clonedInputs = clonedDoc.querySelectorAll('input[type="text"], textarea, select');
    originalInputs.forEach((inp, i) => { if (clonedInputs[i]) clonedInputs[i].value = inp.value; });
    const clonedOverlay = clonedDoc.getElementById('login-overlay');
    if (clonedOverlay) clonedOverlay.remove();

    const blob = new Blob(['<!DOCTYPE html>' + clonedDoc.documentElement.outerHTML], {type:'text/html'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = '×¢×‘×•×“×ª_×’××¨_' + studentName + '.html';
    a.click();
    URL.revokeObjectURL(a.href);
}

function calculateFinalDashboard() {
    const steps = [
        { id:'w1', name:'×©×œ×‘ 1: ×”××•×¨×” ×™×© ×œ×™ ×¨×¢×™×•×Ÿ', icon:'ğŸ’¡', color:'#f9ca24', fields:['w1-topic','w1-question','w1-type'] },
        { id:'w2', name:'×©×œ×‘ 2: ×¤×¨×§ ×”××‘×•×', icon:'ğŸ“', color:'#00a8ff', fields:['w2-rationale','w2-background','w2-text1-name','w2-text1-link','w2-text1-desc','w2-text2-name','w2-text2-link','w2-text2-desc','w2-text3-name','w2-text3-link','w2-text3-desc','w2-dilemma','w2-question'] },
        { id:'w3', name:'×©×œ×‘ 3: ×¨×§×¢ ×ª×™××•×¨×˜×™', icon:'ğŸ“š', color:'#9c88ff', fields:['w3-article1-title','w3-article1-link','w3-article1-summary','w3-article1-quote1','w3-article1-explain1','w3-article1-quote2','w3-article1-explain2','w3-article2-title','w3-article2-link','w3-article2-summary','w3-article2-quote1','w3-article2-explain1','w3-article2-quote2','w3-article2-explain2','w3-concept1-name','w3-concept1-explanation','w3-concept1-connection','w3-concept1-arena1','w3-concept1-arena1-explain','w3-concept1-arena2','w3-concept1-arena2-explain','w3-concept2-name','w3-concept2-explanation','w3-concept2-connection','w3-concept2-arena1','w3-concept2-arena1-explain','w3-concept2-arena2','w3-concept2-arena2-explain','w3-concept3-name','w3-concept3-explanation','w3-concept3-connection','w3-concept3-arena1','w3-concept3-arena1-explain','w3-concept3-arena2','w3-concept3-arena2-explain','w3-concept4-name','w3-concept4-explanation','w3-concept4-connection','w3-concept4-arena1','w3-concept4-arena1-explain','w3-concept4-arena2','w3-concept4-arena2-explain','w3-concept5-name','w3-concept5-explanation','w3-concept5-connection','w3-concept5-arena1','w3-concept5-arena1-explain','w3-concept5-arena2','w3-concept5-arena2-explain','w3-concept6-name','w3-concept6-explanation','w3-concept6-connection','w3-concept6-arena1','w3-concept6-arena1-explain','w3-concept6-arena2','w3-concept6-arena2-explain','w3-concept7-name','w3-concept7-explanation','w3-concept7-connection','w3-concept7-arena1','w3-concept7-arena1-explain','w3-concept7-arena2','w3-concept7-arena2-explain','w3-concept8-name','w3-concept8-explanation','w3-concept8-connection','w3-concept8-arena1','w3-concept8-arena1-explain','w3-concept8-arena2','w3-concept8-arena2-explain','w3-concept9-name','w3-concept9-explanation','w3-concept9-connection','w3-concept9-arena1','w3-concept9-arena1-explain','w3-concept9-arena2','w3-concept9-arena2-explain','w3-concept10-name','w3-concept10-explanation','w3-concept10-connection','w3-concept10-arena1','w3-concept10-arena1-explain','w3-concept10-arena2','w3-concept10-arena2-explain','w3-bibliography'] },
        { id:'w4', name:'×©×œ×‘ 4: ××ª×•×“×•×œ×•×’×™×” ×•×—×§×¨', icon:'ğŸ”¬', color:'#4cd137', fields:['w4-research-question','w4-research-field','w4-comb-q1','w4-comb-reason1','w4-comb-q2','w4-comb-reason2','w4-comb-q3','w4-comb-reason3','w4-comb-q4','w4-comb-reason4','w4-comb-q5','w4-comb-reason5','w4-comb-q6','w4-comb-reason6','w4-research-table-link','w4-findings'] },
        { id:'w5', name:'×©×œ×‘ 5: ×¡×™×›×•× ×•×“×™×•×Ÿ', icon:'âœ…', color:'#e84118', fields:['w5-what-checked','w5-what-found','w5-my-opinion','w5-concepts-connection','w5-media-literacy','w5-civic-literacy','w5-personal-dilemma','w5-personal-way1','w5-personal-way2','w5-personal-way1-full','w5-personal-way1-gains','w5-personal-way1-costs','w5-personal-way2-full','w5-personal-way2-gains','w5-personal-way2-costs','w5-personal-decision','w5-personal-solution','w5-professional-dilemma','w5-professional-way1','w5-professional-way2','w5-professional-way1-full','w5-professional-way1-gains','w5-professional-way1-costs','w5-professional-way2-full','w5-professional-way2-gains','w5-professional-way2-costs','w5-professional-decision','w5-professional-solution'] }
    ];
    let totalFields=0, filledFields=0, completedSteps=0, missingItems=0, nextTask=null;
    const stepResults = steps.map(step => {
        let stepFilled=0, stepTotal=step.fields.length;
        step.fields.forEach(fid => {
            totalFields++;
            const el = document.getElementById(fid);
            if (el && el.value && el.value.trim()) { filledFields++; stepFilled++; } else missingItems++;
        });
        const pct = Math.round(stepFilled/stepTotal*100);
        const status = pct===100?'completed':pct>0?'in-progress':'not-started';
        if (pct===100) completedSteps++;
        if (!nextTask && status!=='completed') nextTask = { step: step.name, missing: '×”×©×œ× ××ª ×”×©×“×•×ª ×”×—×¡×¨×™×' };
        return { ...step, filled:stepFilled, total:stepTotal, percentage:pct, status };
    });
    const totalPct = totalFields>0 ? Math.round(filledFields/totalFields*100) : 0;
    document.getElementById('finalTotalProgress').textContent = totalPct+'%';
    document.getElementById('finalProgressBar').style.width = totalPct+'%';
    document.getElementById('finalCompletedSteps').textContent = completedSteps+'/5';
    document.getElementById('finalMissingItems').textContent = missingItems;
    const rem = 5-completedSteps;
    document.getElementById('finalEstimatedTime').textContent = rem===0?'×”×•×©×œ×! ğŸ‰':rem===1?'×©×œ×‘ ××—×“':rem+' ×©×œ×‘×™×';
    const nextBox = document.getElementById('nextTaskBox');
    if (nextTask) { nextBox.style.display='block'; document.getElementById('nextTaskText').textContent = nextTask.step+': '+nextTask.missing; } else nextBox.style.display='none';
    const list = document.getElementById('finalStepsList');
    list.innerHTML = '';
    stepResults.forEach(step => {
        const badge = step.status==='completed'?'badge-completed':step.status==='in-progress'?'badge-in-progress':'badge-not-started';
        const txt = step.status==='completed'?'×”×•×©×œ×':step.status==='in-progress'?'×‘×ª×”×œ×™×š':'×˜×¨× ×”×—×œ';
        list.innerHTML += `<div class="final-step-item" style="border-color:${step.color}">
            <div class="step-icon" style="background:${step.color}20;color:${step.color}">${step.icon}</div>
            <div class="step-info">
                <div class="step-title" style="color:${step.color}">${step.name} <span class="status-badge ${badge}">${txt}</span></div>
                <div class="step-details">${step.filled}/${step.total} ×¤×¨×™×˜×™× ×”×•×©×œ××•</div>
                <div class="step-progress-bar"><div class="step-progress-fill" style="width:${step.percentage}%;background:${step.color}"></div></div>
            </div>
            <div style="font-size:2rem;font-weight:900;color:${step.color}">${step.percentage}%</div>
        </div>`;
    });
}

let combQuestionCounter = 7;
function addCombQuestion() {
    const container = document.getElementById('comb-questions-container');
    const html = `<h4 style="color:#44bd32;margin-top:25px;background:#f0fff4;padding:15px;border-radius:10px">â“ ×©××œ×ª ××¡×¨×§ ${combQuestionCounter}</h4>
        <div class="form-group"><label>×©××œ×ª ××¡×¨×§ ${combQuestionCounter}:</label><textarea id="w4-comb-q${combQuestionCounter}" rows="2" placeholder="× ×¡×—×• ××ª ×©××œ×ª ×”××¡×¨×§..."></textarea></div>
        <div class="form-group"><label>× ×™××•×§ ×œ×‘×—×™×¨×ª ×©××œ×ª ××¡×¨×§ ×–×•:</label><textarea id="w4-comb-reason${combQuestionCounter}" rows="3" placeholder="×”×¡×‘×™×¨×• ××“×•×¢ ×‘×—×¨×ª× ×‘×©××œ×” ×–×•..."></textarea></div>`;
    const tmp = document.createElement('div'); tmp.innerHTML = html;
    while (tmp.firstChild) container.appendChild(tmp.firstChild);
    combQuestionCounter++;
    const n = document.createElement('div');
    n.textContent='âœ… ×©××œ×ª ××¡×¨×§ × ×•×¡×¤×” ×‘×”×¦×œ×—×”';
    n.style.cssText='position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#44bd32;color:white;padding:15px 30px;border-radius:25px;box-shadow:0 4px 12px rgba(0,0,0,0.2);z-index:10000;font-weight:bold';
    document.body.appendChild(n);
    setTimeout(()=>{ n.style.opacity='0'; n.style.transition='opacity 0.5s'; setTimeout(()=>n.remove(),500); },2000);
}

// Enter key support for login
document.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
        const active = document.querySelector('.role-tab.active');
        if (!active) return;
        const role = active.textContent.includes('×ª×œ××™×“') ? 'student' : active.textContent.includes('××•×¨×”') ? 'teacher' : 'admin';
        if (role === 'student') doLoginStudent();
        else if (role === 'teacher') doLoginTeacher();
        else doLoginAdmin();
    }
});

console.log('ğŸ“ ×¢×‘×•×“×ª ×’××¨ - ×¤×•×¨×˜×œ ×œ×"×“ ×¢× ×©×œ×•×© ×©×›×‘×•×ª × ×˜×¢×Ÿ ×‘×”×¦×œ×—×”');
</script>

</body>
</html>

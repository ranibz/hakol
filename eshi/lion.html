<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>דפי עבודה: מלך האריות</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&family=Rubik:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <style>
        :root {
            --mufasa-color: #FFC107;
            --scar-color: #3E2723;
            --scar-accent: #76FF03;
            --hyena-color: #607D8B;
            --bg-paper: #ffffff;
            --text-main: #333;
        }

        body {
            font-family: 'Heebo', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
            color: var(--text-main);
        }

        /* הגדרת דף */
        .page {
            background: var(--bg-paper);
            width: 210mm;
            min-height: 297mm;
            margin: 0 auto 30px auto;
            padding: 20mm;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            position: relative;
            box-sizing: border-box;
            border-top: 10px solid; 
        }

        /* כותרת ופרטים אישיים */
        .header-container {
            margin-bottom: 40px;
            border-bottom: 2px dashed #ccc;
            padding-bottom: 20px;
        }

        .student-details-box {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            display: inline-block;
            width: 100%;
            box-sizing: border-box;
        }

        .input-row {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-label {
            font-weight: bold;
            font-size: 1.1rem;
            min-width: 100px;
        }

        .input-field {
            flex-grow: 1;
            padding: 8px;
            font-family: inherit;
            font-size: 1rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            background: white;
        }

        .main-title {
            font-family: 'Rubik', sans-serif;
            font-size: 2.2rem;
            margin-top: 20px;
            text-align: center;
        }

        /* כותרות משנה בדפים */
        .page-title {
            font-family: 'Rubik', sans-serif;
            font-size: 2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .page-subtitle {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.8;
            font-weight: bold;
        }

        /* אזורי שאלות */
        .concept-section {
            background: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            page-break-inside: avoid;
        }

        .concept-header {
            font-family: 'Rubik', sans-serif;
            font-size: 1.3rem;
            margin-bottom: 15px;
            border-bottom: 2px solid rgba(0,0,0,0.1);
            padding-bottom: 5px;
        }

        .q-label {
            font-weight: bold;
            display: block;
            margin-top: 15px;
            margin-bottom: 5px;
            font-size: 1rem;
        }

        textarea {
            width: 100%;
            min-height: 40px;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px;
            font-family: inherit;
            resize: none;
            background-color: #fff;
            box-sizing: border-box;
            overflow: hidden;
            display: block;
        }

        textarea:focus, .input-field:focus {
            outline: none;
            border-color: #666;
            background-color: #fffcf5;
        }

        /* --- עיצוב מצב נעול/מוגש --- */
        textarea:disabled, input:disabled {
            background-color: #e9ecef !important; /* אפור */
            color: #495057 !important;
            border: 1px solid #ced4da !important;
            cursor: not-allowed;
            font-weight: 500;
        }

        /* אזהרת העתקה */
        .no-paste-warning {
            animation: shake 0.5s;
            border-color: red !important;
            background-color: #ffe6e6 !important;
        }
        
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        /* צבעים לדפים */
        .page-mufasa { border-color: var(--mufasa-color); }
        .page-mufasa .page-title, .page-mufasa .concept-header { color: #F57F17; }

        .page-scar { border-color: var(--scar-color); }
        .page-scar .page-title, .page-scar .concept-header { color: var(--scar-color); }

        .page-hyenas { border-color: var(--hyena-color); }
        .page-hyenas .page-title, .page-hyenas .concept-header { color: var(--hyena-color); }

        /* כפתור הגשה */
        .submit-container {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: #fff;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            position: sticky;
            bottom: 0;
            z-index: 1000;
            border-top: 1px solid #eee;
        }

        .submit-btn {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 15px 50px;
            border-radius: 50px;
            font-size: 1.4rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.2s, background 0.2s;
            font-weight: bold;
        }

        .submit-btn:hover {
            transform: scale(1.05);
            background-color: #219150;
        }

        .email-info {
            margin-top: 15px;
            font-size: 1.1rem;
            color: #333;
            background: #fdfdfd;
            display: inline-block;
            padding: 10px 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .email-address {
            font-family: monospace;
            font-weight: bold;
            color: #c0392b;
            font-size: 1.2rem;
            user-select: all;
        }

        @media print {
            .submit-container { display: none !important; } /* הסתרת כפתור בהדפסה/שמירה */
            textarea { border: 1px solid #aaa; }
        }
    </style>
</head>
<body>

    <div class="page page-mufasa">
        
        <div class="header-container">
            <div class="student-details-box">
                <div class="input-row">
                    <span class="input-label">שם התלמיד/ה:</span>
                    <input type="text" class="input-field" id="studentName" placeholder="הקלידו את שמכם המלא כאן">
                </div>
                <div class="input-row">
                    <span class="input-label">כיתה:</span>
                    <input type="text" class="input-field" id="studentClass" placeholder="לדוגמה: י'2">
                </div>
            </div>
            <h1 class="main-title">ניתוח תקשורתי: מלך האריות</h1>
        </div>

        <div class="page-title"><span class="material-icons-round">wb_sunny</span> מופאסה</div>
        <div class="page-subtitle">מושגים: הגמוניה, סטריאוטיפ מגדרי, הבניית המציאות</div>

        <div class="concept-section">
            <div class="concept-header">1. הגמוניה</div>
            <label class="q-label">א. הגדירו במילים שלכם: מהי הגמוניה?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. כיצד מופאסה מייצג את ההגמוניה בסרט? (חשבו על &quot;גלגל החיים&quot; והצדקת השלטון).</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>

        <div class="concept-section">
            <div class="concept-header">2. סטריאוטיפ מגדרי</div>
            <label class="q-label">א. הגדירו: מהו סטריאוטיפ מגדרי?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. כיצד דמותו של מופאסה מבטאת סטריאוטיפ גברי מסורתי לעומת הלביאות?</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>

        <div class="concept-section">
            <div class="concept-header">3. הבניית המציאות</div>
            <label class="q-label">א. הגדירו: מהי הבניית מציאות?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. כיצד ההסבר של מופאסה לסימבה על העולם מבנה עבורו מציאות מסוימת?</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>
    </div>

    <div class="page page-scar">
        <div class="page-title"><span class="material-icons-round">theater_comedy</span> סקאר</div>
        <div class="page-subtitle">מושגים: ייצוג, הגמוניה, רב תרבותיות</div>

        <div class="concept-section">
            <div class="concept-header">1. ייצוג (Representation)</div>
            <label class="q-label">א. הגדירו: מהו ייצוג בתקשורת?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. כיצד סקאר מיוצג באופן שונה (מראה, צבעים, שפת גוף)? מה המסר הסמוי?</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>

        <div class="concept-section">
            <div class="concept-header">2. ערעור על ההגמוניה</div>
            <label class="q-label">א. כיצד סקאר מאיים על ההגמוניה (הסדר הקיים) של מופאסה?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. כיצד הסרט מציג את תקופת שלטונו? האם הסרט תומך בשינוי?</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>

        <div class="concept-section">
            <div class="concept-header">3. רב תרבותיות</div>
            <label class="q-label">א. הגדירו: מהי גישה רב-תרבותית?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. סקאר מנסה לשלב בין האריות לצבועים. האם הסרט מציג זאת כחיובי או שלילי? נמקו.</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>
    </div>

    <div class="page page-hyenas">
        <div class="page-title"><span class="material-icons-round">groups</span> הצבועים</div>
        <div class="page-subtitle">מושגים: סטריאוטיפים, הדרה, ייצוג</div>

        <div class="concept-section">
            <div class="concept-header">1. סטריאוטיפים</div>
            <label class="q-label">א. הגדירו: מהו סטריאוטיפ?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. אילו תכונות סטריאוטיפיות מוצמדות לצבועים בסרט? (אינטליגנציה, דיבור).</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>

        <div class="concept-section">
            <div class="concept-header">2. הדרה חברתית</div>
            <label class="q-label">א. הגדירו: מהי הדרה?</label>
            <textarea placeholder="תשובה..."></textarea>
            <label class="q-label">ב. כיצד באה לידי ביטוי הדרת הצבועים בסרט? (מגורים, יחס).</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>

        <div class="concept-section">
            <div class="concept-header">3. ייצוג מיעוטים</div>
            <label class="q-label">א. הצבועים מדובבים בסלנג רחוב ע&quot;י מיעוטים אתניים בארה&quot;ב.</label>
            <label class="q-label">ב. איזו אוכלוסייה מיוצגת כאן באופן סמוי, ומה המסר לגביה?</label>
            <textarea placeholder="תשובה..."></textarea>
        </div>
    </div>

    <div class="submit-container">
        <button class="submit-btn" onclick="downloadWork()">
            <span class="material-icons-round">download_done</span>
            סיום והגשה
        </button>
        <div class="email-info">
            לאחר הלחיצה ירד קובץ למחשב. יש לשלוח אותו לרני במייל:<br>
            <span class="email-address">ranbenzeev@gmail.com</span>
        </div>
    </div>

    <script>
        // --- 1. מנגנון גדילה אוטומטית לתיבות ---
        function autoResize(element) {
            element.style.height = 'auto';
            element.style.height = element.scrollHeight + 'px';
        }

        // --- 2. חסימת הדבקה ---
        function blockPaste(e) {
            e.preventDefault();
            alert('שימו לב: לא ניתן להעתיק ולהדביק תשובות.\nעליכם לכתוב את התשובה במילים שלכם.');
            e.target.classList.add('no-paste-warning');
            setTimeout(() => {
                e.target.classList.remove('no-paste-warning');
            }, 1000);
        }

        // --- 3. הפעלת אירועים בטעינה ---
        document.addEventListener("DOMContentLoaded", function() {
            const textareas = document.querySelectorAll("textarea");
            textareas.forEach(ta => {
                ta.addEventListener('input', function() { autoResize(this); });
                ta.addEventListener('paste', blockPaste);
                ta.addEventListener('drop', (e) => e.preventDefault());
            });
        });

        // --- 4. פונקציית שמירה והורדה ---
        function downloadWork() {
            // בדיקת שם תלמיד
            const nameField = document.getElementById('studentName');
            const classField = document.getElementById('studentClass');
            const name = nameField.value.trim();
            
            if (!name) {
                alert('נא למלא את שם התלמיד בראש העמוד לפני ההגשה.');
                nameField.focus();
                window.scrollTo(0, 0);
                return;
            }

            // קיבוע ערכים בתוך ה-DOM לפני ההורדה ונעילת שדות
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                input.setAttribute('value', input.value);
                input.setAttribute('disabled', 'true'); // נעילת שדות
            });

            const textareas = document.querySelectorAll('textarea');
            textareas.forEach(textarea => {
                textarea.innerHTML = textarea.value;
                textarea.setAttribute('disabled', 'true'); // נעילת תשובות
            });

            // הסתרת כפתור ההגשה בקובץ הסופי
            const submitContainer = document.querySelector('.submit-container');
            if(submitContainer) submitContainer.style.display = 'none';

            // יצירת הקובץ
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], {type: 'text/html'});
            const url = URL.createObjectURL(blob);
            
            // יצירת קישור להורדה
            const a = document.createElement('a');
            a.href = url;
            a.download = `מלך_האריות_${name}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);

            // הודעה למשתמש
            alert('הקובץ ירד למחשב בהצלחה!\n\nהתשובות ננעלו בקובץ שירד.\nכעת עליך לשלוח את הקובץ למייל:\nranbenzeev@gmail.com');
            
            // (אופציונלי: החזרת הכפתור למקרה שרוצים להוריד שוב באותו סשן, אך השדות יישארו נעולים)
            // location.reload(); // רענון הדף יאפס את המצב אם רוצים
        }
    </script>

</body>
</html>